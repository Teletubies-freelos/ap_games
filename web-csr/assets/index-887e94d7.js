var qs=Object.defineProperty;var $s=(t,e,n)=>e in t?qs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var lr=(t,e,n)=>($s(t,typeof e!="symbol"?e+"":e,n),n);import{j as M,S as Ks,u as Mr,a as Ur,s as qr,B as Vs,T as Hs,C as Gs}from"./material-e1c556a6.js";import{c as Ys,r as Y,a as Kn,d as zs,g as Ws}from"./react-242e8da7.js";import{c as Qs,a as Js,R as Xs}from"./router-6ef99329.js";import{s as Zs,i as ei,g as ti,_ as ni}from"./emotion-6ba567a2.js";import{Q as ri,a as si}from"./reactQuery-b91fbbe3.js";function ii(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const oi="modulepreload",ai=function(t,e){return new URL(t,e).href},hr={},ci=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=ai(i,r),i in hr)return;hr[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===i&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":oi,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,d)=>{l.addEventListener("load",u),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var fn={},dr=Ys;fn.createRoot=dr.createRoot,fn.hydrateRoot=dr.hydrateRoot;var ui=Object.defineProperty,fr=Object.getOwnPropertySymbols,li=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,pr=(t,e,n)=>e in t?ui(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ne=(t,e)=>{for(var n in e||(e={}))li.call(e,n)&&pr(t,n,e[n]);if(fr)for(var n of fr(e))hi.call(e,n)&&pr(t,n,e[n]);return t},Ht=(t,e,n)=>new Promise((r,s)=>{var i=c=>{try{a(n.next(c))}catch(l){s(l)}},o=c=>{try{a(n.throw(c))}catch(l){s(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,o);a((n=n.apply(t,e)).next())}),$r=Y.createContext(void 0),Gt=class extends Error{constructor(t,e=""){super(`${t} method not implemented in resource ${e}`)}};function Yt(t){const e=Y.useContext($r);if(!e)throw new Error("No data providers created or context not provided");const n=Y.useMemo(()=>e[t],[t]);if(!n)throw new Error(`Provider with ${t} name does not exist`);return n}function rc(t,e){const n=Yt(t);return(r,s)=>Ht(this,null,function*(){if(!n.getList)throw new Gt("getList",t);return yield n.getList(ne(ne({},e==null?void 0:e.payload),r),ne(ne({},e==null?void 0:e.meta),s))})}function sc(t,e){const n=Yt(t);return(r,s)=>Ht(this,null,function*(){if(!n.createOne)throw new Gt("createOne",t);return yield n.createOne(ne(ne({},e==null?void 0:e.payload),r),ne(ne({},e==null?void 0:e.meta),s))})}function ic(t,e){const n=Yt(t);return(r,s)=>Ht(this,null,function*(){if(!n.updateOne)throw new Gt("updateOne",t);return yield n.updateOne(ne(ne({},e==null?void 0:e.payload),r),ne(ne({},e==null?void 0:e.meta),s))})}function oc(t,e){const n=Yt(t);return(r,s)=>Ht(this,null,function*(){var i;if(!n.deleteOne)throw new Gt("deleteOne",t);const o=(i=e==null?void 0:e.payload)!=null?i:r;if(!o&&o!==0)throw new Error("id not provided");return yield n.deleteOne(o,ne(ne({},e==null?void 0:e.meta),s))})}function di({children:t,providers:e}){return Kn.createElement($r.Provider,{value:e},t)}class fi extends Error{constructor(e){super(`
      Env variable ${e} is required to start project,
      check your .env file
    `)}}class pi{constructor(e){this.defaultOptions=e}mergeOptions(e){return{...this.defaultOptions,...e}}getEnv(e,n={}){const{isRequired:r,prefix:s=""}=this.mergeOptions(n),i=`${s}${e}`,o={VITE_MASTER_TOKEN:"",VITE_GRAPHQL_URL:"",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[i];if(r&&!o)throw new fi(i);return o}}const zt=new pi({prefix:"VITE_"}),yi=!!zt.getEnv("IS_HASH_PROVIDER"),mi=yi?Qs:Js,gi=mi([{path:"/",Component:Y.lazy(()=>ci(()=>import("./index-2ae4eb73.js"),["./index-2ae4eb73.js","./material-e1c556a6.js","./react-242e8da7.js","./emotion-6ba567a2.js","./router-6ef99329.js","./reactQuery-b91fbbe3.js"],import.meta.url))}]),vi=({sx:t,children:e})=>M.jsx(Ks,{sx:{width:"unset",height:"unset",...t},children:e});function bi({sx:t}){return M.jsx(vi,{sx:t,children:M.jsxs("svg",{width:"198",height:"79",viewBox:"0 0 198 79",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[M.jsx("path",{d:"M27.1624 17.7909L15.0092 41.4607H61.1556L50.0347 15.411L37.8877 36.8553H27.4839L42.4127 0H56.711L78.3098 51.6234H0L27.1624 17.7909Z",fill:"url(#paint0_linear_9003_10970)"}),M.jsx("path",{d:"M19.2187 55.2769L10.3232 78.6313L30.2592 55.2769H19.2187Z",fill:"url(#paint1_linear_9003_10970)"}),M.jsx("path",{d:"M105.163 51.9388H100.781L100.033 47.556H92.5218L90.5498 51.9388H86.167L95.1799 31.4897H101.899L105.157 51.9388H105.163ZM94.469 43.1732H99.3155L97.9308 35.8726L94.469 43.1732Z",fill:"#444444"}),M.jsx("path",{d:"M112.025 44.6319L111.005 51.9325H106.622L109.497 31.4834H118.262C121.681 31.4834 123.387 32.9856 123.387 35.9837C123.387 36.404 123.356 36.8491 123.282 37.3251L123.065 38.784C122.521 42.6785 120.302 44.6257 116.408 44.6257H112.025V44.6319ZM113.267 35.8662L112.637 40.2491H117.02C117.996 40.2491 118.547 39.7607 118.683 38.7902L118.899 37.3313C118.917 37.2138 118.93 37.1026 118.93 36.9975C118.93 36.2495 118.503 35.8724 117.644 35.8724H113.261L113.267 35.8662Z",fill:"#444444"}),M.jsx("path",{d:"M128.252 47.7041C128.239 47.7597 128.239 47.8092 128.239 47.8524C128.239 48.2357 128.48 48.4212 128.956 48.4212H131.145C131.683 48.4212 131.979 48.1801 132.047 47.7041L132.22 46.4801H130.032L130.545 42.8453H136.609L135.923 47.7103C135.515 50.6095 133.753 52.0622 130.638 52.0622H128.45C125.692 52.0622 124.314 50.9309 124.314 48.6561C124.314 48.3655 124.339 48.0503 124.388 47.7041L125.235 41.6151C125.643 38.7159 127.405 37.2632 130.52 37.2632H137.388L136.894 40.8857H130.026C129.488 40.8857 129.185 41.1267 129.105 41.6151L128.258 47.7041H128.252Z",fill:"#444444"}),M.jsx("path",{d:"M151.452 52.0563H147.551L146.951 49.0026H141.752L140.306 52.0563H136.405L143.273 37.2573H148.738L151.452 52.0563ZM143.465 45.3801H146.271L145.424 41.4671L143.465 45.3801Z",fill:"#444444"}),M.jsx("path",{d:"M154.617 37.2573H159.698L161.992 45.4234L166.547 37.2573H171.629L169.558 52.0563H165.688L166.727 44.6383L162.665 52.0563H159.439L157.454 44.6383L156.416 52.0563H152.546L154.623 37.2573H154.617Z",fill:"#444444"}),M.jsx("path",{d:"M183.498 42.8392L182.985 46.4741H176.413L176.135 48.4151H182.706L182.193 52.05H171.752L173.83 37.251H184.27L183.776 40.8735H177.205L176.927 42.8331H183.498V42.8392Z",fill:"#444444"}),M.jsx("path",{d:"M184.388 52.0562L184.901 48.4213H191.769C192.307 48.4213 192.603 48.1802 192.671 47.7042L192.746 47.1912C192.758 47.1355 192.758 47.0861 192.758 47.0428C192.758 46.6657 192.517 46.4741 192.041 46.4741H189.853C187.096 46.4741 185.717 45.3428 185.717 43.068C185.717 42.7774 185.742 42.4622 185.791 42.116L185.847 41.6029C186.255 38.7037 188.017 37.251 191.132 37.251H198L197.506 40.8735H190.638C190.1 40.8735 189.797 41.1145 189.717 41.6029L189.661 42.116C189.649 42.1716 189.649 42.2211 189.649 42.2643C189.649 42.6414 189.89 42.8331 190.366 42.8331H192.554C195.311 42.8331 196.69 43.9705 196.69 46.2392C196.69 46.5297 196.665 46.845 196.615 47.1912L196.541 47.7042C196.133 50.6035 194.371 52.0562 191.256 52.0562H184.388Z",fill:"#444444"}),M.jsxs("defs",{children:[M.jsxs("linearGradient",{id:"paint0_linear_9003_10970",x1:"70.0078",y1:"9.81036",x2:"25.3512",y2:"70.3354",gradientUnits:"userSpaceOnUse",children:[M.jsx("stop",{stopColor:"#2193CE"}),M.jsx("stop",{offset:"1",stopColor:"#7339FF"})]}),M.jsxs("linearGradient",{id:"paint1_linear_9003_10970",x1:"26.6862",y1:"52.6434",x2:"8.50582",y2:"77.2837",gradientUnits:"userSpaceOnUse",children:[M.jsx("stop",{stopColor:"#2193CE"}),M.jsx("stop",{offset:"1",stopColor:"#7339FF"})]})]})]})})}const Kr=Object.fromEntries?Object.fromEntries:t=>{if(!t||!t[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const e={};return Object.keys(t).forEach(n=>{const[r,s]=t[n];e[r]=s}),e};function qe(t){return Object.keys(t)}function Vn(t,e){if(!t)throw new Error(e)}function Hn(t,e){return e}const Gn=t=>{const e=t.length;let n=0,r="";for(;n<e;n++){const s=t[n];if(s==null)continue;let i;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))i=Gn(s);else{Vn(!Hn(s,!1)),i="";for(const o in s)s[o]&&o&&(i&&(i+=" "),i+=o)}break}default:i=s}i&&(r&&(r+=" "),r+=i)}return r};function _i(t,e){const n=Y.useRef();return(!n.current||e.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,s)=>r===e[s]).indexOf(!1)>=0)&&(n.current={v:t(),prevDeps:[...e]}),n.current.v}function Ei(t){return t instanceof Object&&!("styles"in t)&&!("length"in t)&&!("__emotion_styles"in t)}const{createCssAndCx:wi}=(()=>{function t(n,r,s){const i=[],o=ti(n,i,s);return i.length<2?s:o+r(i)}function e(n){const{cache:r}=n,s=(...o)=>{const a=Zs(o,r.registered);ei(r,a,!1);const c=`${r.key}-${a.name}`;e:{const l=o[0];if(!Ei(l))break e;yr.saveClassNameCSSObjectMapping(r,c,l)}return c};return{css:s,cx:(...o)=>{const a=Gn(o),c=yr.fixClassName(r,a,s);return t(r.registered,s,c)}}}return{createCssAndCx:e}})();function Vr(t){const{useCache:e}=t;function n(){const r=e(),{css:s,cx:i}=_i(()=>wi({cache:r}),[r]);return{css:s,cx:i}}return{useCssAndCx:n}}const yr=(()=>{const t=new WeakMap;return{saveClassNameCSSObjectMapping:(e,n,r)=>{let s=t.get(e);s===void 0&&(s=new Map,t.set(e,s)),s.set(n,r)},fixClassName:(()=>{function e(n){let r=!1;return n.map(([s,i])=>{if(i===void 0)return s;let o;if(r)o={"&&":i};else{o=s;for(const a in i)if(a.startsWith("@media")){r=!0;break}}return o})}return(n,r,s)=>{const i=t.get(n);return Gn(e(r.split(" ").map(o=>[o,i==null?void 0:i.get(o)])).map(o=>typeof o=="string"?o:s(o)))}})()}})();function $e(t){if(!(t instanceof Object)||typeof t=="function")return t;const e=[];for(const n in t){const r=t[n],s=typeof r;if(!(s==="string"||s==="number"&&!isNaN(r)||s==="boolean"||r===void 0||r===null))return t;e.push(`${n}:${s}_${r}`)}return"xSqLiJdLMd9s"+e.join("|")}function Yn(t,e,n){if(!(e instanceof Object))return t;const r={};return qe(t).forEach(s=>r[s]=n(t[s],e[s])),qe(e).forEach(s=>{if(s in t)return;const i=e[s];typeof i=="string"&&(r[s]=i)}),r}const Hr=({classes:t,theme:e,muiStyleOverridesParams:n,css:r,cx:s,name:i})=>{var o,a;e:{if(i==="makeStyle no name"){i=void 0;break e}if(n!==void 0&&i===void 0)throw new Error("To use muiStyleOverridesParams, you must specify a name using .withName('MyComponent')")}let c;try{c=i===void 0?void 0:((a=(o=e.components)===null||o===void 0?void 0:o[i])===null||a===void 0?void 0:a.styleOverrides)||void 0}catch{}const l=Y.useMemo(()=>{if(c===void 0)return;const u={};for(const d in c){const h=c[d];h instanceof Object&&(u[d]=r(typeof h=="function"?h(Object.assign({theme:e,ownerState:n==null?void 0:n.ownerState},n==null?void 0:n.props)):h))}return u},[c,$e(n==null?void 0:n.props),$e(n==null?void 0:n.ownerState),r]);return t=Y.useMemo(()=>Yn(t,l,s),[t,l,s]),{classes:t}};let xi=0;function Gr(t){const{useTheme:e,cache:n}=t,{useCache:r}=Yr({cacheProvidedAtInception:n}),{useCssAndCx:s}=Vr({useCache:r});function i(a){const{name:c,uniqId:l=`${xi++}`}=a??{},u=typeof c!="object"?c:Object.keys(c)[0];return function(d){const h=typeof d=="function"?d:()=>d;return function(y,p){const b=e();let{css:v,cx:g}=s();const E=r();let T=Y.useMemo(()=>{const w={},C=typeof Proxy<"u"&&new Proxy({},{get:(O,L)=>(typeof L=="symbol"&&Vn(!1),w[L]=`${E.key}-${l}${u!==void 0?`-${u}`:""}-${L}-ref`)}),x=h(b,y,C||{}),k=Kr(qe(x).map(O=>{const L=x[O];return L.label||(L.label=`${u!==void 0?`${u}-`:""}${O}`),[O,`${v(L)}${Hn(O,O in w)?` ${w[O]}`:""}`]}));return qe(w).forEach(O=>{O in k||(k[O]=w[O])}),k},[E,v,g,b,$e(y)]);{const w=p==null?void 0:p.props.classes;T=Y.useMemo(()=>Yn(T,w,g),[T,$e(w),g])}{const w=Hr({classes:T,css:v,cx:g,name:u??"makeStyle no name",idOfUseStyles:l,muiStyleOverridesParams:p,theme:b});w.classes!==void 0&&(T=w.classes),w.css!==void 0&&(v=w.css),w.cx!==void 0&&(g=w.cx)}return{classes:T,theme:b,css:v,cx:g}}}}function o(){const a=e(),{css:c,cx:l}=s();return{theme:a,css:c,cx:l}}return{makeStyles:i,useStyles:o}}const Ti=Y.createContext(void 0),{createUseCache:Yr}=(()=>{function t(){return Y.useContext(Ti)}function e(n){const{cacheProvidedAtInception:r}=n;function s(){var i;const o=ni(),a=t(),c=(i=r??a)!==null&&i!==void 0?i:o;if(c===null)throw new Error(["In order to get SSR working with tss-react you need to explicitly provide an Emotion cache.","MUI users be aware: This is not an error strictly related to tss-react, with or without tss-react,","MUI needs an Emotion cache to be provided for SSR to work.","Here is the MUI documentation related to SSR setup: https://mui.com/material-ui/guides/server-rendering/","TSS provides helper that makes the process of setting up SSR easier: https://docs.tss-react.dev/ssr"].join(`
`));return c}return{useCache:s}}return{createUseCache:e}})();function mr(t){return t.charAt(0).toUpperCase()+t.slice(1)}var gr=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function Oi(t){const{useTheme:e,cache:n}=t,{makeStyles:r}=Gr({useTheme:e,cache:n});function s(i,o,a){const c=typeof i=="string"?(()=>{const f=i,y=function(p){var{children:b}=p,v=gr(p,["children"]);return Y.createElement(f,v,b)};return Object.defineProperty(y,"name",{value:mr(f)}),y})():i,l=(()=>{{const{name:f}=a??{};if(f!==void 0)return typeof f!="object"?f:Object.keys(f)[0]}{const f=c.displayName;if(typeof f=="string"&&f!=="")return f}{const{name:f}=c;if(f)return f}})(),u=r(Object.assign(Object.assign({},a),{name:l}))(typeof o=="function"?(f,y,p)=>br(o(f,y,p)):br(o));function d(f){for(const y in f)if(y!=="root")return!0;return!1}const h=Y.forwardRef(function(f,y){const{className:p,classes:b}=f,v=gr(f,["className","classes"]),{classes:g,cx:E}=u(f,{props:f}),T=E(g.root,p);return zr.set(g,Object.assign(Object.assign({},g),{root:T})),Kn.createElement(c,Object.assign({ref:y,className:d(g)?p:T},typeof i=="string"?{}:{classes:g},v))});return l!==void 0&&(h.displayName=`${mr(l)}WithStyles`,Object.defineProperty(h,"name",{value:h.displayName})),h}return s.getClasses=Ai,{withStyles:s}}const zr=new WeakMap,vr="getClasses should only be used in conjunction with withStyles";function Ai(t){const e=t.classes;if(e===void 0)throw new Error(vr);const n=zr.get(e);if(n===void 0)throw new Error(vr);return n}function br(t){const e={},n={};return Object.keys(t).forEach(r=>(r.startsWith("@media")?n:e)[r]=t[r]),Object.keys(n).forEach(r=>{const s=n[r];Object.keys(s).forEach(i=>{var o;return e[i]=Object.assign(Object.assign({},(o=e[i])!==null&&o!==void 0?o:{}),{[r]:s[i]})})}),e}const Ci=(()=>!(typeof document=="object"&&typeof(document==null?void 0:document.getElementById)=="function")&&!(typeof jest<"u")&&!(typeof mocha<"u")&&!(typeof __vitest_worker__<"u"))();var Ii=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function Wr(t){const{useContext:e,usePlugin:n,cache:r}=t,{useCache:s}=Yr({cacheProvidedAtInception:r}),{useCssAndCx:i}=Vr({useCache:s});return{tss:At({useContext:e,useCache:s,useCssAndCx:i,usePlugin:n??(({classes:c,cx:l,css:u})=>({classes:c,cx:l,css:u})),name:void 0,doesUseNestedSelectors:!1})}}let Si=0;const en=[];function At(t){const{useContext:e,useCache:n,useCssAndCx:r,usePlugin:s,name:i,doesUseNestedSelectors:o}=t;return{withParams:()=>At(Object.assign({},t)),withName:a=>At(Object.assign(Object.assign({},t),{name:typeof a!="object"?a:Object.keys(a)[0]})),withNestedSelectors:()=>At(Object.assign(Object.assign({},t),{doesUseNestedSelectors:!0})),create:a=>{const c=`x${Si++}`,l=typeof a=="function"?a:()=>a;return function(d){var h,f,y;const p=d??{},{classesOverrides:b}=p,v=Ii(p,["classesOverrides"]),g=e(),{css:E,cx:T}=r(),w=n();let C=Y.useMemo(()=>{const k={},O=l(Object.assign(Object.assign(Object.assign({},d),g),o?{classes:typeof Proxy>"u"?{}:new Proxy({},{get:(N,$)=>{if(typeof $=="symbol"&&Vn(!1),Ci){{let q=en.find(m=>m.name===i&&m.idOfUseStyles===c);q===void 0&&(q={name:i,idOfUseStyles:c,nestedSelectorRuleNames:new Set},en.push(q)),q.nestedSelectorRuleNames.add($)}if(en.find(q=>q.name===i&&q.idOfUseStyles!==c&&q.nestedSelectorRuleNames.has($))!==void 0)throw new Error([`tss-react: Duplicate nested selector "${$}" detected in ${i===void 0?`useStyles named "${i}"`:"anonymous useStyles function"}.`,"In SSR setups, this may lead to CSS class name collisions, causing nested selectors to target elements outside of the intended scope.",'Solution: Ensure each useStyles using nested selectors has a unique name. Use tss.withName("UniqueName").withNestedSelectors<...>()... to set a name.'].join(`
`))}return k[$]=`${w.key}-${c}${i!==void 0?`-${i}`:""}-${$}-ref`}})}:{})),L=Kr(qe(O).map(N=>{const $=O[N];return $.label||($.label=`${i!==void 0?`${i}-`:""}${N}`),[N,`${E($)}${Hn(N,N in k)?` ${k[N]}`:""}`]}));return qe(k).forEach(N=>{N in L||(L[N]=k[N])}),L},[w,E,T,$e(d),...Object.values(g)]);C=Y.useMemo(()=>Yn(C,b,T),[C,$e(b),T]);const x=s(Object.assign(Object.assign({classes:C,css:E,cx:T,idOfUseStyles:c,name:i},g),v));return Object.assign({classes:(h=x.classes)!==null&&h!==void 0?h:C,css:(f=x.css)!==null&&f!==void 0?f:E,cx:(y=x.cx)!==null&&y!==void 0?y:T},g)}}}}function ki(t){return Object.assign(Object.assign({},Gr(t)),Oi(t))}const{tss:Di}=Wr({useContext:()=>({})});Di.create({});ki({useTheme:Mr});const{tss:Ni}=Wr({useContext:function(){return{theme:Mr()}},usePlugin:Hr});Ni.create({});const Qr={allVariants:{fontFamily:"Prompt, sans-serif"},h1:{fontSize:"2rem"},h2:{fontSize:"1.3rem"},h3:{fontSize:"1rem",fontWeight:"bold"},body1:{fontSize:"0.75rem"},body2:{color:"#444",fontWeight:"bold"}},Ri=Ur({typography:Qr,palette:{mode:"dark",primary:{main:"#7339FF"},background:{default:"#1F1D2B",paper:"#363B50"},text:{primary:"#FFFFFF"}}}),Pi=Ur({typography:Qr,palette:{primary:{main:"#7339FF"},background:{default:"white",paper:"#EEF2FF"},text:{primary:"#444444",secondary:"#737373"},action:{active:"#7339FF"},warning:{main:"#B88700"},success:{main:"#0A801F"},error:{main:"#DD1D1D"},info:{main:"#1773B0"},grey:{100:"#D9D9D9"}}});qr("div")({display:"flex",flexWrap:"wrap",gap:"2rem"});qr("div")(({theme:t})=>({[t.breakpoints.down("md")]:{width:"unset"},[t.breakpoints.up("md")]:{width:"calc(50% - 1rem)"}}));const ji=()=>M.jsx(Vs,{minHeight:"100vh",display:"grid",sx:{placeItems:"center"},children:M.jsx(bi,{sx:{fontSie:"8rem",animation:"pulse .5s ease-in-out infinite","@keyframes pulse":{"50%":{transform:"scale(1.2)"}}}})}),zn=JSON,Li=t=>t.toUpperCase(),Fi=t=>{const e={};return t.forEach((n,r)=>{e[r]=n}),e},Bi=(t,e,n)=>t.document?t:{document:t,variables:e,requestHeaders:n,signal:void 0},Mi=(t,e,n)=>t.query?t:{query:t,variables:e,requestHeaders:n,signal:void 0},Ui=(t,e)=>t.documents?t:{documents:t,requestHeaders:e,signal:void 0};function Ct(t,e){if(!!!t)throw new Error(e)}function qi(t){return typeof t=="object"&&t!==null}function $i(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}const Ki=/\r\n|[\n\r]/g;function pn(t,e){let n=0,r=1;for(const s of t.body.matchAll(Ki)){if(typeof s.index=="number"||$i(!1),s.index>=e)break;n=s.index+s[0].length,r+=1}return{line:r,column:e+1-n}}function Vi(t){return Jr(t.source,pn(t.source,t.start))}function Jr(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,s=e.line-1,i=t.locationOffset.line-1,o=e.line+i,a=e.line===1?n:0,c=e.column+a,l=`${t.name}:${o}:${c}
`,u=r.split(/\r\n|[\n\r]/g),d=u[s];if(d.length>120){const h=Math.floor(c/80),f=c%80,y=[];for(let p=0;p<d.length;p+=80)y.push(d.slice(p,p+80));return l+_r([[`${o} |`,y[0]],...y.slice(1,h+1).map(p=>["|",p]),["|","^".padStart(f)],["|",y[h+1]]])}return l+_r([[`${o-1} |`,u[s-1]],[`${o} |`,d],["|","^".padStart(c)],[`${o+1} |`,u[s+1]]])}function _r(t){const e=t.filter(([r,s])=>s!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,s])=>r.padStart(n)+(s?" "+s:"")).join(`
`)}function Hi(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class Wn extends Error{constructor(e,...n){var r,s,i;const{nodes:o,source:a,positions:c,path:l,originalError:u,extensions:d}=Hi(n);super(e),this.name="GraphQLError",this.path=l??void 0,this.originalError=u??void 0,this.nodes=Er(Array.isArray(o)?o:o?[o]:void 0);const h=Er((r=this.nodes)===null||r===void 0?void 0:r.map(y=>y.loc).filter(y=>y!=null));this.source=a??(h==null||(s=h[0])===null||s===void 0?void 0:s.source),this.positions=c??(h==null?void 0:h.map(y=>y.start)),this.locations=c&&a?c.map(y=>pn(a,y)):h==null?void 0:h.map(y=>pn(y.source,y.start));const f=qi(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(i=d??f)!==null&&i!==void 0?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Wn):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+Vi(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+Jr(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Er(t){return t===void 0||t.length===0?void 0:t}function J(t,e,n){return new Wn(`Syntax Error: ${n}`,{source:t,positions:[e]})}class Gi{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Xr{constructor(e,n,r,s,i,o){this.kind=e,this.start=n,this.end=r,this.line=s,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Zr={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Yi=new Set(Object.keys(Zr));function wr(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&Yi.has(e)}var Fe;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(Fe||(Fe={}));var yn;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(yn||(yn={}));var R;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(R||(R={}));function mn(t){return t===9||t===32}function ot(t){return t>=48&&t<=57}function es(t){return t>=97&&t<=122||t>=65&&t<=90}function ts(t){return es(t)||t===95}function zi(t){return es(t)||ot(t)||t===95}function Wi(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,s=-1;for(let o=0;o<t.length;++o){var i;const a=t[o],c=Qi(a);c!==a.length&&(r=(i=r)!==null&&i!==void 0?i:o,s=o,o!==0&&c<n&&(n=c))}return t.map((o,a)=>a===0?o:o.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,s+1)}function Qi(t){let e=0;for(;e<t.length&&mn(t.charCodeAt(e));)++e;return e}function Ji(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),s=r.length===1,i=r.length>1&&r.slice(1).every(f=>f.length===0||mn(f.charCodeAt(0))),o=n.endsWith('\\"""'),a=t.endsWith('"')&&!o,c=t.endsWith("\\"),l=a||c,u=!(e!=null&&e.minimize)&&(!s||t.length>70||l||i||o);let d="";const h=s&&mn(t.charCodeAt(0));return(u&&!h||i)&&(d+=`
`),d+=n,(u||l)&&(d+=`
`),'"""'+d+'"""'}var _;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(_||(_={}));class Xi{constructor(e){const n=new Xr(_.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==_.EOF)do if(e.next)e=e.next;else{const n=eo(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===_.COMMENT);return e}}function Zi(t){return t===_.BANG||t===_.DOLLAR||t===_.AMP||t===_.PAREN_L||t===_.PAREN_R||t===_.SPREAD||t===_.COLON||t===_.EQUALS||t===_.AT||t===_.BRACKET_L||t===_.BRACKET_R||t===_.BRACE_L||t===_.PIPE||t===_.BRACE_R}function Ve(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function Wt(t,e){return ns(t.charCodeAt(e))&&rs(t.charCodeAt(e+1))}function ns(t){return t>=55296&&t<=56319}function rs(t){return t>=56320&&t<=57343}function Se(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return _.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function z(t,e,n,r,s){const i=t.line,o=1+n-t.lineStart;return new Xr(e,n,r,i,o,s)}function eo(t,e){const n=t.source.body,r=n.length;let s=e;for(;s<r;){const i=n.charCodeAt(s);switch(i){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:n.charCodeAt(s+1)===10?s+=2:++s,++t.line,t.lineStart=s;continue;case 35:return to(t,s);case 33:return z(t,_.BANG,s,s+1);case 36:return z(t,_.DOLLAR,s,s+1);case 38:return z(t,_.AMP,s,s+1);case 40:return z(t,_.PAREN_L,s,s+1);case 41:return z(t,_.PAREN_R,s,s+1);case 46:if(n.charCodeAt(s+1)===46&&n.charCodeAt(s+2)===46)return z(t,_.SPREAD,s,s+3);break;case 58:return z(t,_.COLON,s,s+1);case 61:return z(t,_.EQUALS,s,s+1);case 64:return z(t,_.AT,s,s+1);case 91:return z(t,_.BRACKET_L,s,s+1);case 93:return z(t,_.BRACKET_R,s,s+1);case 123:return z(t,_.BRACE_L,s,s+1);case 124:return z(t,_.PIPE,s,s+1);case 125:return z(t,_.BRACE_R,s,s+1);case 34:return n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34?ao(t,s):ro(t,s)}if(ot(i)||i===45)return no(t,s,i);if(ts(i))return co(t,s);throw J(t.source,s,i===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Ve(i)||Wt(n,s)?`Unexpected character: ${Se(t,s)}.`:`Invalid character: ${Se(t,s)}.`)}return z(t,_.EOF,r,r)}function to(t,e){const n=t.source.body,r=n.length;let s=e+1;for(;s<r;){const i=n.charCodeAt(s);if(i===10||i===13)break;if(Ve(i))++s;else if(Wt(n,s))s+=2;else break}return z(t,_.COMMENT,e,s,n.slice(e+1,s))}function no(t,e,n){const r=t.source.body;let s=e,i=n,o=!1;if(i===45&&(i=r.charCodeAt(++s)),i===48){if(i=r.charCodeAt(++s),ot(i))throw J(t.source,s,`Invalid number, unexpected digit after 0: ${Se(t,s)}.`)}else s=tn(t,s,i),i=r.charCodeAt(s);if(i===46&&(o=!0,i=r.charCodeAt(++s),s=tn(t,s,i),i=r.charCodeAt(s)),(i===69||i===101)&&(o=!0,i=r.charCodeAt(++s),(i===43||i===45)&&(i=r.charCodeAt(++s)),s=tn(t,s,i),i=r.charCodeAt(s)),i===46||ts(i))throw J(t.source,s,`Invalid number, expected digit but got: ${Se(t,s)}.`);return z(t,o?_.FLOAT:_.INT,e,s,r.slice(e,s))}function tn(t,e,n){if(!ot(n))throw J(t.source,e,`Invalid number, expected digit but got: ${Se(t,e)}.`);const r=t.source.body;let s=e+1;for(;ot(r.charCodeAt(s));)++s;return s}function ro(t,e){const n=t.source.body,r=n.length;let s=e+1,i=s,o="";for(;s<r;){const a=n.charCodeAt(s);if(a===34)return o+=n.slice(i,s),z(t,_.STRING,e,s+1,o);if(a===92){o+=n.slice(i,s);const c=n.charCodeAt(s+1)===117?n.charCodeAt(s+2)===123?so(t,s):io(t,s):oo(t,s);o+=c.value,s+=c.size,i=s;continue}if(a===10||a===13)break;if(Ve(a))++s;else if(Wt(n,s))s+=2;else throw J(t.source,s,`Invalid character within String: ${Se(t,s)}.`)}throw J(t.source,s,"Unterminated string.")}function so(t,e){const n=t.source.body;let r=0,s=3;for(;s<12;){const i=n.charCodeAt(e+s++);if(i===125){if(s<5||!Ve(r))break;return{value:String.fromCodePoint(r),size:s}}if(r=r<<4|Qe(i),r<0)break}throw J(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+s)}".`)}function io(t,e){const n=t.source.body,r=xr(n,e+2);if(Ve(r))return{value:String.fromCodePoint(r),size:6};if(ns(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const s=xr(n,e+8);if(rs(s))return{value:String.fromCodePoint(r,s),size:12}}throw J(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function xr(t,e){return Qe(t.charCodeAt(e))<<12|Qe(t.charCodeAt(e+1))<<8|Qe(t.charCodeAt(e+2))<<4|Qe(t.charCodeAt(e+3))}function Qe(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function oo(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw J(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function ao(t,e){const n=t.source.body,r=n.length;let s=t.lineStart,i=e+3,o=i,a="";const c=[];for(;i<r;){const l=n.charCodeAt(i);if(l===34&&n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34){a+=n.slice(o,i),c.push(a);const u=z(t,_.BLOCK_STRING,e,i+3,Wi(c).join(`
`));return t.line+=c.length-1,t.lineStart=s,u}if(l===92&&n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34&&n.charCodeAt(i+3)===34){a+=n.slice(o,i),o=i+1,i+=4;continue}if(l===10||l===13){a+=n.slice(o,i),c.push(a),l===13&&n.charCodeAt(i+1)===10?i+=2:++i,a="",o=i,s=i;continue}if(Ve(l))++i;else if(Wt(n,i))i+=2;else throw J(t.source,i,`Invalid character within String: ${Se(t,i)}.`)}throw J(t.source,i,"Unterminated string.")}function co(t,e){const n=t.source.body,r=n.length;let s=e+1;for(;s<r;){const i=n.charCodeAt(s);if(zi(i))++s;else break}return z(t,_.NAME,e,s,n.slice(e,s))}const uo=10,ss=2;function Qn(t){return Qt(t,[])}function Qt(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return lo(t,e);default:return String(t)}}function lo(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(ho(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:Qt(r,n)}else if(Array.isArray(t))return po(t,n);return fo(t,n)}function ho(t){return typeof t.toJSON=="function"}function fo(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>ss?"["+yo(t)+"]":"{ "+n.map(([s,i])=>s+": "+Qt(i,e)).join(", ")+" }"}function po(t,e){if(t.length===0)return"[]";if(e.length>ss)return"[Array]";const n=Math.min(uo,t.length),r=t.length-n,s=[];for(let i=0;i<n;++i)s.push(Qt(t[i],e));return r===1?s.push("... 1 more item"):r>1&&s.push(`... ${r} more items`),"["+s.join(", ")+"]"}function yo(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const mo=globalThis.process?function(e,n){return e instanceof n}:function(e,n){if(e instanceof n)return!0;if(typeof e=="object"&&e!==null){var r;const s=n.prototype[Symbol.toStringTag],i=Symbol.toStringTag in e?e[Symbol.toStringTag]:(r=e.constructor)===null||r===void 0?void 0:r.name;if(s===i){const o=Qn(e);throw new Error(`Cannot use ${s} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class is{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||Ct(!1,`Body must be a string. Received: ${Qn(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Ct(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ct(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function go(t){return mo(t,is)}function vo(t,e){return new bo(t,e).parseDocument()}class bo{constructor(e,n={}){const r=go(e)?e:new is(e);this._lexer=new Xi(r),this._options=n,this._tokenCounter=0}parseName(){const e=this.expectToken(_.NAME);return this.node(e,{kind:R.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:R.DOCUMENT,definitions:this.many(_.SOF,this.parseDefinition,_.EOF)})}parseDefinition(){if(this.peek(_.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===_.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw J(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(_.BRACE_L))return this.node(e,{kind:R.OPERATION_DEFINITION,operation:Fe.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(_.NAME)&&(r=this.parseName()),this.node(e,{kind:R.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(_.NAME);switch(e.value){case"query":return Fe.QUERY;case"mutation":return Fe.MUTATION;case"subscription":return Fe.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(_.PAREN_L,this.parseVariableDefinition,_.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:R.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(_.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(_.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(_.DOLLAR),this.node(e,{kind:R.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:R.SELECTION_SET,selections:this.many(_.BRACE_L,this.parseSelection,_.BRACE_R)})}parseSelection(){return this.peek(_.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,s;return this.expectOptionalToken(_.COLON)?(r=n,s=this.parseName()):s=n,this.node(e,{kind:R.FIELD,alias:r,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(_.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(_.PAREN_L,n,_.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(_.COLON),this.node(n,{kind:R.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(_.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(_.NAME)?this.node(e,{kind:R.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:R.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:R.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:R.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case _.BRACKET_L:return this.parseList(e);case _.BRACE_L:return this.parseObject(e);case _.INT:return this.advanceLexer(),this.node(n,{kind:R.INT,value:n.value});case _.FLOAT:return this.advanceLexer(),this.node(n,{kind:R.FLOAT,value:n.value});case _.STRING:case _.BLOCK_STRING:return this.parseStringLiteral();case _.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:R.BOOLEAN,value:!0});case"false":return this.node(n,{kind:R.BOOLEAN,value:!1});case"null":return this.node(n,{kind:R.NULL});default:return this.node(n,{kind:R.ENUM,value:n.value})}case _.DOLLAR:if(e)if(this.expectToken(_.DOLLAR),this._lexer.token.kind===_.NAME){const r=this._lexer.token.value;throw J(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:R.STRING,value:e.value,block:e.kind===_.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:R.LIST,values:this.any(_.BRACKET_L,n,_.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:R.OBJECT,fields:this.any(_.BRACE_L,n,_.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken(_.COLON),this.node(n,{kind:R.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(_.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(_.AT),this.node(n,{kind:R.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(_.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(_.BRACKET_R),n=this.node(e,{kind:R.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(_.BANG)?this.node(e,{kind:R.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:R.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(_.STRING)||this.peek(_.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),s=this.many(_.BRACE_L,this.parseOperationTypeDefinition,_.BRACE_R);return this.node(e,{kind:R.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:s})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(_.COLON);const r=this.parseNamedType();return this.node(e,{kind:R.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),s=this.parseConstDirectives();return this.node(e,{kind:R.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:s})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),s=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:R.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:s,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(_.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(_.BRACE_L,this.parseFieldDefinition,_.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),s=this.parseArgumentDefs();this.expectToken(_.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:R.FIELD_DEFINITION,description:n,name:r,arguments:s,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(_.PAREN_L,this.parseInputValueDef,_.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(_.COLON);const s=this.parseTypeReference();let i;this.expectOptionalToken(_.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:R.INPUT_VALUE_DEFINITION,description:n,name:r,type:s,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),s=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:R.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:s,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),s=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:R.UNION_TYPE_DEFINITION,description:n,name:r,directives:s,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(_.EQUALS)?this.delimitedMany(_.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),s=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:R.ENUM_TYPE_DEFINITION,description:n,name:r,directives:s,values:i})}parseEnumValuesDefinition(){return this.optionalMany(_.BRACE_L,this.parseEnumValueDefinition,_.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),s=this.parseConstDirectives();return this.node(e,{kind:R.ENUM_VALUE_DEFINITION,description:n,name:r,directives:s})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw J(this._lexer.source,this._lexer.token.start,`${vt(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),s=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:R.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:s,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(_.BRACE_L,this.parseInputValueDef,_.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===_.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(_.BRACE_L,this.parseOperationTypeDefinition,_.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:R.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:R.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(r.length===0&&s.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:R.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:s,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(r.length===0&&s.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:R.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:s,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),s=this.parseUnionMemberTypes();if(r.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:R.UNION_TYPE_EXTENSION,name:n,directives:r,types:s})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();if(r.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:R.ENUM_TYPE_EXTENSION,name:n,directives:r,values:s})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();if(r.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:R.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:s})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(_.AT);const r=this.parseName(),s=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:R.DIRECTIVE_DEFINITION,description:n,name:r,arguments:s,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(_.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(yn,n.value))return n;throw this.unexpected(e)}node(e,n){return this._options.noLocation!==!0&&(n.loc=new Gi(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw J(this._lexer.source,n.start,`Expected ${os(e)}, found ${vt(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===_.NAME&&n.value===e)this.advanceLexer();else throw J(this._lexer.source,n.start,`Expected "${e}", found ${vt(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===_.NAME&&n.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const n=e??this._lexer.token;return J(this._lexer.source,n.start,`Unexpected ${vt(n)}.`)}any(e,n,r){this.expectToken(e);const s=[];for(;!this.expectOptionalToken(r);)s.push(n.call(this));return s}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const s=[];do s.push(n.call(this));while(!this.expectOptionalToken(r));return s}return[]}many(e,n,r){this.expectToken(e);const s=[];do s.push(n.call(this));while(!this.expectOptionalToken(r));return s}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,n=this._lexer.advance();if(e!==void 0&&n.kind!==_.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw J(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function vt(t){const e=t.value;return os(t.kind)+(e!=null?` "${e}"`:"")}function os(t){return Zi(t)?`"${t}"`:t}function _o(t){return`"${t.replace(Eo,wo)}"`}const Eo=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function wo(t){return xo[t.charCodeAt(0)]}const xo=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],To=Object.freeze({});function Oo(t,e,n=Zr){const r=new Map;for(const v of Object.values(R))r.set(v,Ao(e,v));let s,i=Array.isArray(t),o=[t],a=-1,c=[],l=t,u,d;const h=[],f=[];do{a++;const v=a===o.length,g=v&&c.length!==0;if(v){if(u=f.length===0?void 0:h[h.length-1],l=d,d=f.pop(),g)if(i){l=l.slice();let T=0;for(const[w,C]of c){const x=w-T;C===null?(l.splice(x,1),T++):l[x]=C}}else{l=Object.defineProperties({},Object.getOwnPropertyDescriptors(l));for(const[T,w]of c)l[T]=w}a=s.index,o=s.keys,c=s.edits,i=s.inArray,s=s.prev}else if(d){if(u=i?a:o[a],l=d[u],l==null)continue;h.push(u)}let E;if(!Array.isArray(l)){var y,p;wr(l)||Ct(!1,`Invalid AST Node: ${Qn(l)}.`);const T=v?(y=r.get(l.kind))===null||y===void 0?void 0:y.leave:(p=r.get(l.kind))===null||p===void 0?void 0:p.enter;if(E=T==null?void 0:T.call(e,l,u,d,h,f),E===To)break;if(E===!1){if(!v){h.pop();continue}}else if(E!==void 0&&(c.push([u,E]),!v))if(wr(E))l=E;else{h.pop();continue}}if(E===void 0&&g&&c.push([u,l]),v)h.pop();else{var b;s={inArray:i,index:a,keys:o,edits:c,prev:s},i=Array.isArray(l),o=i?l:(b=n[l.kind])!==null&&b!==void 0?b:[],a=-1,c=[],d&&f.push(d),d=l}}while(s!==void 0);return c.length!==0?c[c.length-1][1]:t}function Ao(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function Co(t){return Oo(t,So)}const Io=80,So={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>S(t.definitions,`

`)},OperationDefinition:{leave(t){const e=F("(",S(t.variableDefinitions,", "),")"),n=S([t.operation,S([t.name,e]),S(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+F(" = ",n)+F(" ",S(r," "))},SelectionSet:{leave:({selections:t})=>ie(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:s}){const i=F("",t,": ")+e;let o=i+F("(",S(n,", "),")");return o.length>Io&&(o=i+F(`(
`,It(S(n,`
`)),`
)`)),S([o,S(r," "),s]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+F(" ",S(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>S(["...",F("on ",t),S(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:s})=>`fragment ${t}${F("(",S(n,", "),")")} on ${e} ${F("",S(r," ")," ")}`+s},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?Ji(t):_o(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+S(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+S(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+F("(",S(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>F("",t,`
`)+S(["schema",S(e," "),ie(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>F("",t,`
`)+S(["scalar",e,S(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:s})=>F("",t,`
`)+S(["type",e,F("implements ",S(n," & ")),S(r," "),ie(s)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:s})=>F("",t,`
`)+e+(Tr(n)?F(`(
`,It(S(n,`
`)),`
)`):F("(",S(n,", "),")"))+": "+r+F(" ",S(s," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:s})=>F("",t,`
`)+S([e+": "+n,F("= ",r),S(s," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:s})=>F("",t,`
`)+S(["interface",e,F("implements ",S(n," & ")),S(r," "),ie(s)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>F("",t,`
`)+S(["union",e,S(n," "),F("= ",S(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>F("",t,`
`)+S(["enum",e,S(n," "),ie(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>F("",t,`
`)+S([e,S(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>F("",t,`
`)+S(["input",e,S(n," "),ie(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:s})=>F("",t,`
`)+"directive @"+e+(Tr(n)?F(`(
`,It(S(n,`
`)),`
)`):F("(",S(n,", "),")"))+(r?" repeatable":"")+" on "+S(s," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>S(["extend schema",S(t," "),ie(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>S(["extend scalar",t,S(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>S(["extend type",t,F("implements ",S(e," & ")),S(n," "),ie(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>S(["extend interface",t,F("implements ",S(e," & ")),S(n," "),ie(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>S(["extend union",t,S(e," "),F("= ",S(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>S(["extend enum",t,S(e," "),ie(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>S(["extend input",t,S(e," "),ie(n)]," ")}};function S(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function ie(t){return F(`{
`,It(S(t,`
`)),`
}`)}function F(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function It(t){return F("  ",t.replace(/\n/g,`
  `))}function Tr(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}const Or=t=>{var r,s;let e;const n=t.definitions.filter(i=>i.kind==="OperationDefinition");return n.length===1&&(e=(s=(r=n[0])==null?void 0:r.name)==null?void 0:s.value),e},nn=t=>{if(typeof t=="string"){let n;try{const r=vo(t);n=Or(r)}catch{}return{query:t,operationName:n}}const e=Or(t);return{query:Co(t),operationName:e}};class et extends Error{constructor(e,n){const r=`${et.extractMessage(e)}: ${JSON.stringify({response:e,request:n})}`;super(r),Object.setPrototypeOf(this,et.prototype),this.response=e,this.request=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,et)}static extractMessage(e){var n,r;return((r=(n=e.errors)==null?void 0:n[0])==null?void 0:r.message)??`GraphQL Error (Code: ${e.status})`}}var gn={exports:{}};(function(t,e){var n=typeof self<"u"?self:zs,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function c(m){return m&&DataView.prototype.isPrototypeOf(m)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(m){return m&&l.indexOf(Object.prototype.toString.call(m))>-1};function d(m){if(typeof m!="string"&&(m=String(m)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(m))throw new TypeError("Invalid character in header field name");return m.toLowerCase()}function h(m){return typeof m!="string"&&(m=String(m)),m}function f(m){var A={next:function(){var j=m.shift();return{done:j===void 0,value:j}}};return a.iterable&&(A[Symbol.iterator]=function(){return A}),A}function y(m){this.map={},m instanceof y?m.forEach(function(A,j){this.append(j,A)},this):Array.isArray(m)?m.forEach(function(A){this.append(A[0],A[1])},this):m&&Object.getOwnPropertyNames(m).forEach(function(A){this.append(A,m[A])},this)}y.prototype.append=function(m,A){m=d(m),A=h(A);var j=this.map[m];this.map[m]=j?j+", "+A:A},y.prototype.delete=function(m){delete this.map[d(m)]},y.prototype.get=function(m){return m=d(m),this.has(m)?this.map[m]:null},y.prototype.has=function(m){return this.map.hasOwnProperty(d(m))},y.prototype.set=function(m,A){this.map[d(m)]=h(A)},y.prototype.forEach=function(m,A){for(var j in this.map)this.map.hasOwnProperty(j)&&m.call(A,this.map[j],j,this)},y.prototype.keys=function(){var m=[];return this.forEach(function(A,j){m.push(j)}),f(m)},y.prototype.values=function(){var m=[];return this.forEach(function(A){m.push(A)}),f(m)},y.prototype.entries=function(){var m=[];return this.forEach(function(A,j){m.push([j,A])}),f(m)},a.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function p(m){if(m.bodyUsed)return Promise.reject(new TypeError("Already read"));m.bodyUsed=!0}function b(m){return new Promise(function(A,j){m.onload=function(){A(m.result)},m.onerror=function(){j(m.error)}})}function v(m){var A=new FileReader,j=b(A);return A.readAsArrayBuffer(m),j}function g(m){var A=new FileReader,j=b(A);return A.readAsText(m),j}function E(m){for(var A=new Uint8Array(m),j=new Array(A.length),U=0;U<A.length;U++)j[U]=String.fromCharCode(A[U]);return j.join("")}function T(m){if(m.slice)return m.slice(0);var A=new Uint8Array(m.byteLength);return A.set(new Uint8Array(m)),A.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(m){this._bodyInit=m,m?typeof m=="string"?this._bodyText=m:a.blob&&Blob.prototype.isPrototypeOf(m)?this._bodyBlob=m:a.formData&&FormData.prototype.isPrototypeOf(m)?this._bodyFormData=m:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)?this._bodyText=m.toString():a.arrayBuffer&&a.blob&&c(m)?(this._bodyArrayBuffer=T(m.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(m)||u(m))?this._bodyArrayBuffer=T(m):this._bodyText=m=Object.prototype.toString.call(m):this._bodyText="",this.headers.get("content-type")||(typeof m=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var m=p(this);if(m)return m;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var m=p(this);if(m)return m;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(m){var A=m.toUpperCase();return C.indexOf(A)>-1?A:m}function k(m,A){A=A||{};var j=A.body;if(m instanceof k){if(m.bodyUsed)throw new TypeError("Already read");this.url=m.url,this.credentials=m.credentials,A.headers||(this.headers=new y(m.headers)),this.method=m.method,this.mode=m.mode,this.signal=m.signal,!j&&m._bodyInit!=null&&(j=m._bodyInit,m.bodyUsed=!0)}else this.url=String(m);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new y(A.headers)),this.method=x(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(j)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function O(m){var A=new FormData;return m.trim().split("&").forEach(function(j){if(j){var U=j.split("="),V=U.shift().replace(/\+/g," "),B=U.join("=").replace(/\+/g," ");A.append(decodeURIComponent(V),decodeURIComponent(B))}}),A}function L(m){var A=new y,j=m.replace(/\r?\n[\t ]+/g," ");return j.split(/\r?\n/).forEach(function(U){var V=U.split(":"),B=V.shift().trim();if(B){var ve=V.join(":").trim();A.append(B,ve)}}),A}w.call(k.prototype);function N(m,A){A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in A?A.statusText:"OK",this.headers=new y(A.headers),this.url=A.url||"",this._initBody(m)}w.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},N.error=function(){var m=new N(null,{status:0,statusText:""});return m.type="error",m};var $=[301,302,303,307,308];N.redirect=function(m,A){if($.indexOf(A)===-1)throw new RangeError("Invalid status code");return new N(null,{status:A,headers:{location:m}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(A,j){this.message=A,this.name=j;var U=Error(A);this.stack=U.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function q(m,A){return new Promise(function(j,U){var V=new k(m,A);if(V.signal&&V.signal.aborted)return U(new o.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function ve(){B.abort()}B.onload=function(){var ze={status:B.status,statusText:B.statusText,headers:L(B.getAllResponseHeaders()||"")};ze.url="responseURL"in B?B.responseURL:ze.headers.get("X-Request-URL");var Zt="response"in B?B.response:B.responseText;j(new N(Zt,ze))},B.onerror=function(){U(new TypeError("Network request failed"))},B.ontimeout=function(){U(new TypeError("Network request failed"))},B.onabort=function(){U(new o.DOMException("Aborted","AbortError"))},B.open(V.method,V.url,!0),V.credentials==="include"?B.withCredentials=!0:V.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&a.blob&&(B.responseType="blob"),V.headers.forEach(function(ze,Zt){B.setRequestHeader(Zt,ze)}),V.signal&&(V.signal.addEventListener("abort",ve),B.onreadystatechange=function(){B.readyState===4&&V.signal.removeEventListener("abort",ve)}),B.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return q.polyfill=!0,i.fetch||(i.fetch=q,i.Headers=y,i.Request=k,i.Response=N),o.Headers=y,o.Request=k,o.Response=N,o.fetch=q,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(gn,gn.exports);var Ft=gn.exports;const St=Ws(Ft),ko=ii({__proto__:null,default:St},[Ft]),Re=t=>{let e={};return t&&(typeof Headers<"u"&&t instanceof Headers||ko&&Ft.Headers&&t instanceof Ft.Headers?e=Fi(t):Array.isArray(t)?t.forEach(([n,r])=>{n&&r!==void 0&&(e[n]=r)}):e=t),e},Ar=t=>t.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),Do=t=>{if(!Array.isArray(t.query)){const r=t,s=[`query=${encodeURIComponent(Ar(r.query))}`];return t.variables&&s.push(`variables=${encodeURIComponent(r.jsonSerializer.stringify(r.variables))}`),r.operationName&&s.push(`operationName=${encodeURIComponent(r.operationName)}`),s.join("&")}if(typeof t.variables<"u"&&!Array.isArray(t.variables))throw new Error("Cannot create query with given variable type, array expected");const e=t,n=t.query.reduce((r,s,i)=>(r.push({query:Ar(s),variables:e.variables?e.jsonSerializer.stringify(e.variables[i]):void 0}),r),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(n))}`},No=t=>async e=>{const{url:n,query:r,variables:s,operationName:i,fetch:o,fetchOptions:a,middleware:c}=e,l={...e.headers};let u="",d;t==="POST"?(d=Po(r,s,i,a.jsonSerializer),typeof d=="string"&&(l["Content-Type"]="application/json")):u=Do({query:r,variables:s,operationName:i,jsonSerializer:a.jsonSerializer??zn});const h={method:t,headers:l,body:d,...a};let f=n,y=h;if(c){const p=await Promise.resolve(c({...h,url:n,operationName:i,variables:s})),{url:b,...v}=p;f=b,y=v}return u&&(f=`${f}?${u}`),await o(f,y)};class Ro{constructor(e,n={}){this.url=e,this.requestConfig=n,this.rawRequest=async(...r)=>{const[s,i,o]=r,a=Mi(s,i,o),{headers:c,fetch:l=St,method:u="POST",requestMiddleware:d,responseMiddleware:h,...f}=this.requestConfig,{url:y}=this;a.signal!==void 0&&(f.signal=a.signal);const{operationName:p}=nn(a.query);return rn({url:y,query:a.query,variables:a.variables,headers:{...Re(sn(c)),...Re(a.requestHeaders)},operationName:p,fetch:l,method:u,fetchOptions:f,middleware:d}).then(b=>(h&&h(b),b)).catch(b=>{throw h&&h(b),b})}}async request(e,...n){const[r,s]=n,i=Bi(e,r,s),{headers:o,fetch:a=St,method:c="POST",requestMiddleware:l,responseMiddleware:u,...d}=this.requestConfig,{url:h}=this;i.signal!==void 0&&(d.signal=i.signal);const{query:f,operationName:y}=nn(i.document);return rn({url:h,query:f,variables:i.variables,headers:{...Re(sn(o)),...Re(i.requestHeaders)},operationName:y,fetch:a,method:c,fetchOptions:d,middleware:l}).then(p=>(u&&u(p),p.data)).catch(p=>{throw u&&u(p),p})}batchRequests(e,n){const r=Ui(e,n),{headers:s,...i}=this.requestConfig;r.signal!==void 0&&(i.signal=r.signal);const o=r.documents.map(({document:c})=>nn(c).query),a=r.documents.map(({variables:c})=>c);return rn({url:this.url,query:o,variables:a,headers:{...Re(sn(s)),...Re(r.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??St,method:this.requestConfig.method||"POST",fetchOptions:i,middleware:this.requestConfig.requestMiddleware}).then(c=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(c),c.data)).catch(c=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(c),c})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,n){const{headers:r}=this.requestConfig;return r?r[e]=n:this.requestConfig.headers={[e]:n},this}setEndpoint(e){return this.url=e,this}}const rn=async t=>{const{query:e,variables:n,fetchOptions:r}=t,s=No(Li(t.method??"post")),i=Array.isArray(t.query),o=await s(t),a=await jo(o,r.jsonSerializer??zn),c=Array.isArray(a)?!a.some(({data:u})=>!u):!!a.data,l=Array.isArray(a)||!a.errors||Array.isArray(a.errors)&&!a.errors.length||r.errorPolicy==="all"||r.errorPolicy==="ignore";if(o.ok&&l&&c){const{errors:u,...d}=(Array.isArray(a),a),h=r.errorPolicy==="ignore"?d:a;return{...i?{data:h}:h,headers:o.headers,status:o.status}}else{const u=typeof a=="string"?{error:a}:a;throw new et({...u,status:o.status,headers:o.headers},{query:e,variables:n})}},Po=(t,e,n,r)=>{const s=r??zn;if(!Array.isArray(t))return s.stringify({query:t,variables:e,operationName:n});if(typeof e<"u"&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");const i=t.reduce((o,a,c)=>(o.push({query:a,variables:e?e[c]:void 0}),o),[]);return s.stringify(i)},jo=async(t,e)=>{let n;return t.headers.forEach((r,s)=>{s.toLowerCase()==="content-type"&&(n=r)}),n&&(n.toLowerCase().startsWith("application/json")||n.toLowerCase().startsWith("application/graphql+json")||n.toLowerCase().startsWith("application/graphql-response+json"))?e.parse(await t.text()):t.text()},sn=t=>typeof t=="function"?t():t,ae=(t,...e)=>t.reduce((n,r,s)=>`${n}${r}${s in e?String(e[s]):""}`,""),He=ae`
  fragment PRODUCT_DATA on products {
    img_url
    discount_price
    description
    is_offer
    name
    quantity
    price
    product_id
    discount_price
    is_visible
    category_id
  }
`,Lo=ae`
  fragment ORDER_DATA on orderers {
    address
    client_name
    order_id
    payment_method {
      name
    }
    phone
  }
`,Fo=ae`
  query GET_PRODUCTS($limit: Int, $offset: Int) {
    products(
      where: { is_visible: { _eq: true } }
      limit: $limit
      offset: $offset
      order_by: { updated_at: desc }
    ) {
      ...PRODUCT_DATA
    }
  }

  ${He}
`,Bo=ae`
 query GET_PRODUCTS_BY_CATEGORY($limit: Int, $offset: Int, $categoryId: Int) {
    products(
      where: { is_visible: { _eq: true }, category_id: {_eq: $categoryId} }
      limit: $limit
      offset: $offset
      order_by: { updated_at: desc }
    ) {
      ...PRODUCT_DATA
    }
  }

  ${He}
`,Mo=ae`
  query GET_PRODUCT_DATA_IS_OFFER($limit: Int, $offset: Int) {
    products(
      where: { is_visible: { _eq: true }, is_offer: {_eq: true} }
      limit: $limit
      offset: $offset
      order_by: { updated_at: desc }
    ) {
      ...PRODUCT_DATA
    }
  }

  ${He}
`,Uo=ae`
  query GET_PRODUCT_DATA_IS_OFFER_BY_CATEGORY_ID($limit: Int, $offset: Int, $categoryId: Int) {
    products(
      where: { is_visible: { _eq: true }, is_offer: {_eq: true}, category_id: {_eq: $categoryId} }
      limit: $limit
      offset: $offset
      order_by: { updated_at: desc }
    ) {
      ...PRODUCT_DATA
    }
  }

  ${He}
`,qo=ae`
  query GET_PRODUCT_DATA_LOW_PRICE_BY_CATEGORY($limit: Int, $offset: Int, $categoryId: Int) {
    products(
      where: { is_visible: { _eq: true }, category_id: { _eq : $categoryId} }
      limit: $limit
      offset: $offset
      order_by: { updated_at: desc,  price: asc }
    ) {
      ...PRODUCT_DATA
    }
  }

  ${He}
`,$o=ae`
  query GET_PRODUCT_DATA_LOW_PRICE($limit: Int, $offset: Int) {
    products(
      where: { is_visible: { _eq: true } }
      limit: $limit
      offset: $offset
      order_by: { updated_at: desc,  price: asc }
    ) {
      ...PRODUCT_DATA
    }
  }

  ${He}
`,Ko=ae`
  query GET_CATEGORIES($limit: Int!, $offset: Int!) {
    categories(
      limit: $limit
      offset: $offset
      order_by: { category_id: desc }
    ) {
      category_id
      name
    }
  }
`;ae`
  query GET_ORDERS($limit: Int!, $offset: Int!) {
    Orders(limit: $limit, offset: $offset, order_by: { create_date: desc }) {
      ...ORDER_DATA
    }
  }

  ${Lo}
`;const Vo=ae`
  query GET_FEATURED_PRODUCTS {
    featureds {
      banner_img_url
      description
      title
      featured_id
      price
    }
  }
`;class Ho{constructor(e){this.client=e}resolveProductsQuery(e,n,r){return r?e?Uo:n?qo:Bo:e?Mo:n?$o:Fo}async getList({pagination:e,filter:n,sort:r}){const{limit:s=10,page:i=0}=e??{},{isOffer:o=!1,categoryId:a}=n??{},{price:c}=r??{},l=!Number.isNaN(a),{products:u}=await this.client.request(this.resolveProductsQuery(o,c==="asc",l),{limit:s,offset:i*s,...l?{categoryId:a}:{}});return u}}const Go=zt.getEnv("GRAPHQL_URL",{isRequired:!0}),Yo=zt.getEnv("MASTER_TOKEN")??localStorage.getItem("API_TOKEN");class zo{constructor(e){this.table=e}async upsertOne(e){this.table.put(e,"productId")}async getList(){return[...await this.table.toArray()]}async getOne(e){return await this.table.get({productId:e.id})}async createOne(e){return await this.table.add(e),e}async updateOne({id:e,...n}){if(!e)throw new Error("id is needed");await this.table.update(e,n)}async deleteOne(e){await this.table.delete(e)}}const H=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,W=Object.keys,Z=Array.isArray;function te(t,e){return typeof e!="object"||W(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||H.Promise||(H.Promise=Promise);const at=Object.getPrototypeOf,Wo={}.hasOwnProperty;function se(t,e){return Wo.call(t,e)}function Ke(t,e){typeof e=="function"&&(e=e(at(t))),(typeof Reflect>"u"?W:Reflect.ownKeys)(e).forEach(n=>{pe(t,n,e[n])})}const as=Object.defineProperty;function pe(t,e,n,r){as(t,e,te(n&&se(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Be(t){return{from:function(e){return t.prototype=Object.create(e.prototype),pe(t.prototype,"constructor",t),{extend:Ke.bind(null,t.prototype)}}}}const Qo=Object.getOwnPropertyDescriptor;function Jn(t,e){let n;return Qo(t,e)||(n=at(t))&&Jn(n,e)}const Jo=[].slice;function Bt(t,e,n){return Jo.call(t,e,n)}function cs(t,e){return e(t)}function Je(t){if(!t)throw new Error("Assertion Failed")}function us(t){H.setImmediate?setImmediate(t):setTimeout(t,0)}function ls(t,e){return t.reduce((n,r,s)=>{var i=e(r,s);return i&&(n[i[0]]=i[1]),n},{})}function ye(t,e){if(se(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,s=e.length;r<s;++r){var i=ye(t,e[r]);n.push(i)}return n}var o=e.indexOf(".");if(o!==-1){var a=t[e.substr(0,o)];return a===void 0?void 0:ye(a,e.substr(o+1))}}function oe(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Je(typeof n!="string"&&"length"in n);for(var r=0,s=e.length;r<s;++r)oe(t,e[r],n[r])}else{var i=e.indexOf(".");if(i!==-1){var o=e.substr(0,i),a=e.substr(i+1);if(a==="")n===void 0?Z(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=n;else{var c=t[o];c&&se(t,o)||(c=t[o]={}),oe(c,a,n)}}else n===void 0?Z(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function hs(t){var e={};for(var n in t)se(t,n)&&(e[n]=t[n]);return e}const Xo=[].concat;function ds(t){return Xo.apply([],t)}const fs="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ds([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>H[t]),Zo=fs.map(t=>H[t]);ls(fs,t=>[t,!0]);let _e=null;function yt(t){_e=typeof WeakMap<"u"&&new WeakMap;const e=vn(t);return _e=null,e}function vn(t){if(!t||typeof t!="object")return t;let e=_e&&_e.get(t);if(e)return e;if(Z(t)){e=[],_e&&_e.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(vn(t[n]))}else if(Zo.indexOf(t.constructor)>=0)e=t;else{const i=at(t);for(var s in e=i===Object.prototype?{}:Object.create(i),_e&&_e.set(t,e),t)se(t,s)&&(e[s]=vn(t[s]))}return e}const{toString:ea}={};function bn(t){return ea.call(t).slice(8,-1)}const _n=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ta=typeof _n=="symbol"?function(t){var e;return t!=null&&(e=t[_n])&&e.apply(t)}:function(){return null},Le={};function de(t){var e,n,r,s;if(arguments.length===1){if(Z(t))return t.slice();if(this===Le&&typeof t=="string")return[t];if(s=ta(t)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const Xn=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var le=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ps(t,e){le=t,ys=e}var ys=()=>!0;const na=!new Error("").stack;function Ne(){if(na)try{throw Ne.arguments,new Error}catch(t){return t}return new Error}function En(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(ys).map(r=>`
`+r).join("")):""}var ms=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Zn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ms),ra={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Me(t,e){this._e=Ne(),this.name=t,this.message=e}function gs(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,s)=>s.indexOf(n)===r).join(`
`)}function Mt(t,e,n,r){this._e=Ne(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=gs(t,e)}function tt(t,e){this._e=Ne(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=gs(t,e)}Be(Me).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+En(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Be(Mt).from(Me),Be(tt).from(Me);var er=Zn.reduce((t,e)=>(t[e]=e+"Error",t),{});const sa=Me;var P=Zn.reduce((t,e)=>{var n=e+"Error";function r(s,i){this._e=Ne(),this.name=n,s?typeof s=="string"?(this.message=`${s}${i?`
 `+i:""}`,this.inner=i||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=ra[e]||n,this.inner=null)}return Be(r).from(sa),t[e]=r,t},{});P.Syntax=SyntaxError,P.Type=TypeError,P.Range=RangeError;var Cr=ms.reduce((t,e)=>(t[e+"Error"]=P[e],t),{}),kt=Zn.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=P[e]),t),{});function K(){}function ct(t){return t}function ia(t,e){return t==null||t===ct?e:function(n){return e(t(n))}}function ke(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function oa(t,e){return t===K?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ke(r,this.onsuccess):r),s&&(this.onerror=this.onerror?ke(s,this.onerror):s),i!==void 0?i:n}}function aa(t,e){return t===K?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ke(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ke(r,this.onerror):r)}}function ca(t,e){return t===K?e:function(n){var r=t.apply(this,arguments);te(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?ke(s,this.onsuccess):s),i&&(this.onerror=this.onerror?ke(i,this.onerror):i),r===void 0?o===void 0?void 0:o:te(r,o)}}function ua(t,e){return t===K?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function tr(t,e){return t===K?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then(function(){return e.apply(r,i)})}return e.apply(this,arguments)}}kt.ModifyError=Mt,kt.DexieError=Me,kt.BulkError=tt;var ut={};const vs=100,[wn,Ut,xn]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,at(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,at(e),t]})(),bs=Ut&&Ut.then,Dt=wn&&wn.constructor,nr=!!xn;var Tn=!1,la=xn?()=>{xn.then(bt)}:H.setImmediate?setImmediate.bind(null,bt):H.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{bt(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(bt,0)},nt=function(t,e){Xe.push([t,e]),qt&&(la(),qt=!1)},On=!0,qt=!0,Ce=[],Nt=[],An=null,Cn=ct,Ue={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:kr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{kr(t[0],t[1])}catch{}})}},D=Ue,Xe=[],Ie=0,Rt=[];function I(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=K,this._lib=!1;var e=this._PSD=D;if(le&&(this._stackHolder=Ne(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==ut)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Sn(this,this._value))}this._state=null,this._value=null,++e.ref,Es(this,t)}const In={get:function(){var t=D,e=$t;function n(r,s){var i=!t.global&&(t!==D||e!==$t);const o=i&&!ge();var a=new I((c,l)=>{rr(this,new _s(Kt(r,t,i,o),Kt(s,t,i,o),c,l,t))});return le&&Ts(a,this),a}return n.prototype=ut,n},set:function(t){pe(this,"then",t&&t.prototype===ut?In:{get:function(){return t},set:In.set})}};function _s(t,e,n,r,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=s}function Es(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&mt();n&&typeof n.then=="function"?Es(t,(s,i)=>{n instanceof I?n._then(s,i):n.then(s,i)}):(t._state=!0,t._value=n,ws(t)),r&&gt()}},Sn.bind(null,t))}catch(n){Sn(t,n)}}function Sn(t,e){if(Nt.push(e),t._state===null){var n=t._lib&&mt();e=Cn(e),t._state=!1,t._value=e,le&&e!==null&&typeof e=="object"&&!e._promise&&function(r,s,i){try{r.apply(null,i)}catch(o){s&&s(o)}}(()=>{var r=Jn(e,"stack");e._promise=t,pe(e,"stack",{get:()=>Tn?r&&(r.get?r.get.apply(e):r.value):t.stack})}),function(r){Ce.some(s=>s._value===r._value)||Ce.push(r)}(t),ws(t),n&&gt()}}function ws(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)rr(t,e[n]);var s=t._PSD;--s.ref||s.finalize(),Ie===0&&(++Ie,nt(()=>{--Ie==0&&sr()},[]))}function rr(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Ie,nt(ha,[n,t,e])}else t._listeners.push(e)}function ha(t,e,n){try{An=e;var r,s=e._value;e._state?r=t(s):(Nt.length&&(Nt=[]),r=t(s),Nt.indexOf(s)===-1&&function(i){for(var o=Ce.length;o;)if(Ce[--o]._value===i._value)return void Ce.splice(o,1)}(e)),n.resolve(r)}catch(i){n.reject(i)}finally{An=null,--Ie==0&&sr(),--n.psd.ref||n.psd.finalize()}}function xs(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var s,i,o=t._value;o!=null?(s=o.name||"Error",i=o.message||o,r=En(o,0)):(s=o,i=""),e.push(s+(i?": "+i:"")+r)}return le&&((r=En(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&xs(t._prev,e,n)),e}function Ts(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function bt(){mt()&&gt()}function mt(){var t=On;return On=!1,qt=!1,t}function gt(){var t,e,n;do for(;Xe.length>0;)for(t=Xe,Xe=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Xe.length>0);On=!0,qt=!0}function sr(){var t=Ce;Ce=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=Rt.slice(0),n=e.length;n;)e[--n]()}function _t(t){return new I(ut,!1,t)}function G(t,e){var n=D;return function(){var r=mt(),s=D;try{return xe(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{xe(s,!1),r&&gt()}}}Ke(I.prototype,{then:In,_then:function(t,e){rr(this,new _s(null,null,t,e,D))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):_t(r)):this.then(null,r=>r&&r.name===e?n(r):_t(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),_t(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Tn=!0;var t=xs(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Tn=!1}}},timeout:function(t,e){return t<1/0?new I((n,r)=>{var s=setTimeout(()=>r(new P.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&pe(I.prototype,Symbol.toStringTag,"Dexie.Promise"),Ue.env=Os(),Ke(I,{all:function(){var t=de.apply(null,arguments).map(Et);return new I(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((s,i)=>I.resolve(s).then(o=>{t[i]=o,--r||e(t)},n))})},resolve:t=>{if(t instanceof I)return t;if(t&&typeof t.then=="function")return new I((n,r)=>{t.then(n,r)});var e=new I(ut,!0,t);return Ts(e,An),e},reject:_t,race:function(){var t=de.apply(null,arguments).map(Et);return new I((e,n)=>{t.map(r=>I.resolve(r).then(e,n))})},PSD:{get:()=>D,set:t=>D=t},totalEchoes:{get:()=>$t},newPSD:we,usePSD:Ye,scheduler:{get:()=>nt,set:t=>{nt=t}},rejectionMapper:{get:()=>Cn,set:t=>{Cn=t}},follow:(t,e)=>new I((n,r)=>we((s,i)=>{var o=D;o.unhandleds=[],o.onunhandled=i,o.finalize=ke(function(){(function(a){function c(){a(),Rt.splice(Rt.indexOf(c),1)}Rt.push(c),++Ie,nt(()=>{--Ie==0&&sr()},[])})(()=>{this.unhandleds.length===0?s():i(this.unhandleds[0])})},o.finalize),t()},e,n,r))}),Dt&&(Dt.allSettled&&pe(I,"allSettled",function(){const t=de.apply(null,arguments).map(Et);return new I(e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach((s,i)=>I.resolve(s).then(o=>r[i]={status:"fulfilled",value:o},o=>r[i]={status:"rejected",reason:o}).then(()=>--n||e(r)))})}),Dt.any&&typeof AggregateError<"u"&&pe(I,"any",function(){const t=de.apply(null,arguments).map(Et);return new I((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const s=new Array(r);t.forEach((i,o)=>I.resolve(i).then(a=>e(a),a=>{s[o]=a,--r||n(new AggregateError(s))}))})}));const X={awaits:0,echoes:0,id:0};var da=0,Pt=[],on=0,$t=0,fa=0;function we(t,e,n,r){var s=D,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++fa;var o=Ue.env;i.env=nr?{Promise:I,PromiseProp:{value:I,configurable:!0,writable:!0},all:I.all,race:I.race,allSettled:I.allSettled,any:I.any,resolve:I.resolve,reject:I.reject,nthen:Ir(o.nthen,i),gthen:Ir(o.gthen,i)}:{},e&&te(i,e),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Ye(i,t,n,r);return i.ref===0&&i.finalize(),a}function Ge(){return X.id||(X.id=++da),++X.awaits,X.echoes+=vs,X.id}function ge(){return!!X.awaits&&(--X.awaits==0&&(X.id=0),X.echoes=X.awaits*vs,!0)}function Et(t){return X.echoes&&t&&t.constructor===Dt?(Ge(),t.then(e=>(ge(),e),e=>(ge(),Q(e)))):t}function pa(t){++$t,X.echoes&&--X.echoes!=0||(X.echoes=X.id=0),Pt.push(D),xe(t,!0)}function ya(){var t=Pt[Pt.length-1];Pt.pop(),xe(t,!1)}function xe(t,e){var n=D;if((e?!X.echoes||on++&&t===D:!on||--on&&t===D)||As(e?pa.bind(null,t):ya),t!==D&&(D=t,n===Ue&&(Ue.env=Os()),nr)){var r=Ue.env.Promise,s=t.env;Ut.then=s.nthen,r.prototype.then=s.gthen,(n.global||t.global)&&(Object.defineProperty(H,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function Os(){var t=H.Promise;return nr?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(H,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Ut.then,gthen:t.prototype.then}:{}}function Ye(t,e,n,r,s){var i=D;try{return xe(t,!0),e(n,r,s)}finally{xe(i,!1)}}function As(t){bs.call(wn,t)}function Kt(t,e,n,r){return typeof t!="function"?t:function(){var s=D;n&&Ge(),xe(e,!0);try{return t.apply(this,arguments)}finally{xe(s,!1),r&&As(ge)}}}function Ir(t,e){return function(n,r){return t.call(this,Kt(n,e),Kt(r,e))}}(""+bs).indexOf("[native code]")===-1&&(Ge=ge=K);const Sr="unhandledrejection";function kr(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,s={promise:e,reason:t};if(H.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Sr,!0,!0),te(r,s)):H.CustomEvent&&te(r=new CustomEvent(Sr,{detail:s}),s),r&&H.dispatchEvent&&(dispatchEvent(r),!H.PromiseRejectionEvent&&H.onunhandledrejection))try{H.onunhandledrejection(r)}catch{}le&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var Q=I.reject;function kn(t,e,n,r){if(t.idbdb&&(t._state.openComplete||D.letThrough||t._vip)){var s=t._createTransaction(e,n,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===er.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>kn(t,e,n,r))):Q(i)}return s._promise(e,(i,o)=>we(()=>(D.trans=s,r(i,o,s)))).then(i=>s._completion.then(()=>i))}if(t._state.openComplete)return Q(new P.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Q(new P.DatabaseClosed);t.open().catch(K)}return t._state.dbReadyPromise.then(()=>kn(t,e,n,r))}const Dr="3.2.4",Ae=String.fromCharCode(65535),Dn=-1/0,he="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Cs="String expected.",rt=[],Jt=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ma=Jt,ga=Jt,Is=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),Xt="__dbnames",an="readonly",cn="readwrite";function De(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const Ss={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function wt(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=yt(e))[t],e)}class va{_trans(e,n,r){const s=this._tx||D.trans,i=this.name;function o(c,l,u){if(!u.schema[i])throw new P.NotFound("Table "+i+" not part of transaction");return n(u.idbtrans,u)}const a=mt();try{return s&&s.db===this.db?s===D.trans?s._promise(e,o,r):we(()=>s._promise(e,o,r),{trans:s,transless:D.transless||D}):kn(this.db,e,[this.name],o)}finally{a&&gt()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(s=>this.hook.reading.fire(s))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Z(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=W(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(l=>l.compound&&n.every(u=>l.keyPath.indexOf(u)>=0)&&l.keyPath.every(u=>n.indexOf(u)>=0))[0];if(r&&this.db._maxKey!==Ae)return this.where(r.name).equals(r.keyPath.map(l=>e[l]));!r&&le&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:s}=this.schema,i=this.db._deps.indexedDB;function o(l,u){try{return i.cmp(l,u)===0}catch{return!1}}const[a,c]=n.reduce(([l,u],d)=>{const h=s[d],f=e[d];return[l||h,l||!h?De(u,h&&h.multi?y=>{const p=ye(y,d);return Z(p)&&p.some(b=>o(f,b))}:y=>o(f,ye(y,d))):u]},[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Z(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const s=Object.create(e.prototype);for(var i in r)if(se(r,i))try{s[i]=r[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){te(this,e)})}add(e,n){const{auto:r,keyPath:s}=this.schema.primKey;let i=e;return s&&r&&(i=wt(s)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[i]})).then(o=>o.numFailures?I.reject(o.failures[0]):o.lastResult).then(o=>{if(s)try{oe(e,s,o)}catch{}return o})}update(e,n){if(typeof e!="object"||Z(e))return this.where(":id").equals(e).modify(n);{const r=ye(e,this.schema.primKey.keyPath);if(r===void 0)return Q(new P.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?W(n).forEach(s=>{oe(e,s,n[s])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:s}=this.schema.primKey;let i=e;return s&&r&&(i=wt(s)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[i],keys:n!=null?[n]:null})).then(o=>o.numFailures?I.reject(o.failures[0]):o.lastResult).then(o=>{if(s)try{oe(e,s,o)}catch{}return o})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?I.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:Ss})).then(e=>e.numFailures?I.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,n,r){const s=Array.isArray(n)?n:void 0,i=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&s)throw new P.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new P.InvalidArgument("Arguments objects and keys must have the same length");const l=e.length;let u=c&&a?e.map(wt(c)):e;return this.core.mutate({trans:o,type:"add",keys:s,values:u,wantResults:i}).then(({numFailures:d,results:h,lastResult:f,failures:y})=>{if(d===0)return i?h:f;throw new tt(`${this.name}.bulkAdd(): ${d} of ${l} operations failed`,y)})})}bulkPut(e,n,r){const s=Array.isArray(n)?n:void 0,i=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&s)throw new P.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new P.InvalidArgument("Arguments objects and keys must have the same length");const l=e.length;let u=c&&a?e.map(wt(c)):e;return this.core.mutate({trans:o,type:"put",keys:s,values:u,wantResults:i}).then(({numFailures:d,results:h,lastResult:f,failures:y})=>{if(d===0)return i?h:f;throw new tt(`${this.name}.bulkPut(): ${d} of ${l} operations failed`,y)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:s,failures:i})=>{if(r===0)return s;throw new tt(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}}function st(t){var e={},n=function(o,a){if(a){for(var c=arguments.length,l=new Array(c-1);--c;)l[c-1]=arguments[c];return e[o].subscribe.apply(null,l),t}if(typeof o=="string")return e[o]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(o,a,c){if(typeof o!="object"){var l;a||(a=ua),c||(c=K);var u={subscribers:[],fire:c,subscribe:function(d){u.subscribers.indexOf(d)===-1&&(u.subscribers.push(d),u.fire=a(u.fire,d))},unsubscribe:function(d){u.subscribers=u.subscribers.filter(function(h){return h!==d}),u.fire=u.subscribers.reduce(a,c)}};return e[o]=n[o]=u,u}W(l=o).forEach(function(d){var h=l[d];if(Z(h))i(d,l[d][0],l[d][1]);else{if(h!=="asap")throw new P.InvalidArgument("Invalid event config");var f=i(d,ct,function(){for(var y=arguments.length,p=new Array(y);y--;)p[y]=arguments[y];f.subscribers.forEach(function(b){us(function(){b.apply(null,p)})})})}})}}function We(t,e){return Be(e).from({prototype:t}),e}function Pe(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function un(t,e){t.filter=De(t.filter,e)}function ln(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>De(r(),e()):e,t.justLimit=n&&!r}function jt(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new P.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Nr(t,e,n){const r=jt(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function xt(t,e,n,r){const s=t.replayFilter?De(t.filter,t.replayFilter()):t.filter;if(t.or){const i={},o=(a,c,l)=>{if(!s||s(c,l,h=>c.stop(h),h=>c.fail(h))){var u=c.primaryKey,d=""+u;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(u)),se(i,d)||(i[d]=!0,e(a,c,l))}};return Promise.all([t.or._iterate(o,n),Rr(Nr(t,r,n),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}return Rr(Nr(t,r,n),De(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function Rr(t,e,n,r){var s=G(r?(i,o,a)=>n(r(i),o,a):n);return t.then(i=>{if(i)return i.start(()=>{var o=()=>i.continue();e&&!e(i,a=>o=a,a=>{i.stop(a),o=K},a=>{i.fail(a),o=K})||s(i.value,i,a=>o=a),o()})})}function ee(t,e){try{const n=Pr(t),r=Pr(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,i){const o=s.length,a=i.length,c=o<a?o:a;for(let l=0;l<c;++l)if(s[l]!==i[l])return s[l]<i[l]?-1:1;return o===a?0:o<a?-1:1}(jr(t),jr(e));case"Array":return function(s,i){const o=s.length,a=i.length,c=o<a?o:a;for(let l=0;l<c;++l){const u=ee(s[l],i[l]);if(u!==0)return u}return o===a?0:o<a?-1:1}(t,e)}}catch{}return NaN}function Pr(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=bn(t);return n==="ArrayBuffer"?"binary":n}function jr(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class ba{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,Q.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,Q.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=De(n.algorithm,e)}_iterate(e,n){return xt(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&te(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>xt(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,s=r.table.core;if(Pe(r,!0))return s.count({trans:n,query:{index:jt(r,s.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var i=0;return xt(r,()=>(++i,!1),n,s).then(()=>i)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),s=r[0],i=r.length-1;function o(l,u){return u?o(l[r[u]],u-1):l[s]}var a=this._ctx.dir==="next"?1:-1;function c(l,u){var d=o(l,i),h=o(u,i);return d<h?-a:d>h?a:0}return this.toArray(function(l){return l.sort(c)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Pe(r,!0)&&r.limit>0){const{valueMapper:s}=r,i=jt(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:o})=>s?o.map(s):o)}{const s=[];return xt(r,i=>s.push(i),n,r.table.core).then(()=>s)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,Pe(n)?ln(n,()=>{var r=e;return(s,i)=>r===0||(r===1?(--r,!1):(i(()=>{s.advance(r),r=0}),!1))}):ln(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),ln(this._ctx,()=>{var n=e;return function(r,s,i){return--n<=0&&s(i),n>=0}},!0),this}until(e,n){return un(this._ctx,function(r,s,i){return!e(r.value)||(s(i),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return un(this._ctx,function(s){return e(s.value)}),n=this._ctx,r=e,n.isMatch=De(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.primaryKey,s)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&Pe(n,!0)&&n.limit>0)return this._read(s=>{var i=jt(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:s})=>s).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return un(this._ctx,function(s){var i=s.primaryKey.toString(),o=se(r,i);return r[i]=!0,!o}),this}modify(e){var n=this._ctx;return this._write(r=>{var s;if(typeof e=="function")s=e;else{var i=W(e),o=i.length;s=function(p){for(var b=!1,v=0;v<o;++v){var g=i[v],E=e[g];ye(p,g)!==E&&(oe(p,g,E),b=!0)}return b}}const a=n.table.core,{outbound:c,extractKey:l}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,d=[];let h=0;const f=[],y=(p,b)=>{const{failures:v,numFailures:g}=b;h+=p-g;for(let E of W(v))d.push(v[E])};return this.clone().primaryKeys().then(p=>{const b=v=>{const g=Math.min(u,p.length-v);return a.getMany({trans:r,keys:p.slice(v,v+g),cache:"immutable"}).then(E=>{const T=[],w=[],C=c?[]:null,x=[];for(let O=0;O<g;++O){const L=E[O],N={value:yt(L),primKey:p[v+O]};s.call(N,N.value,N)!==!1&&(N.value==null?x.push(p[v+O]):c||ee(l(L),l(N.value))===0?(w.push(N.value),c&&C.push(p[v+O])):(x.push(p[v+O]),T.push(N.value)))}const k=Pe(n)&&n.limit===1/0&&(typeof e!="function"||e===hn)&&{index:n.index,range:n.range};return Promise.resolve(T.length>0&&a.mutate({trans:r,type:"add",values:T}).then(O=>{for(let L in O.failures)x.splice(parseInt(L),1);y(T.length,O)})).then(()=>(w.length>0||k&&typeof e=="object")&&a.mutate({trans:r,type:"put",keys:C,values:w,criteria:k,changeSpec:typeof e!="function"&&e}).then(O=>y(w.length,O))).then(()=>(x.length>0||k&&e===hn)&&a.mutate({trans:r,type:"delete",keys:x,criteria:k}).then(O=>y(x.length,O))).then(()=>p.length>v+g&&b(v+u))})};return b(0).then(()=>{if(d.length>0)throw new Mt("Error modifying one or more objects",d,h,f);return p.length})})})}delete(){var e=this._ctx,n=e.range;return Pe(e)&&(e.isPrimKey&&!ga||n.type===3)?this._write(r=>{const{primaryKey:s}=e.table.core.schema,i=n;return e.table.core.count({trans:r,query:{index:s,range:i}}).then(o=>e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:a,lastResult:c,results:l,numFailures:u})=>{if(u)throw new Mt("Could not delete some values",Object.keys(a).map(d=>a[d]),o-u);return o-u}))}):this.modify(hn)}}const hn=(t,e)=>e.value=null;function _a(t,e){return t<e?-1:t===e?0:1}function Ea(t,e){return t>e?-1:t===e?0:1}function re(t,e,n){var r=t instanceof Ds?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function je(t){return new t.Collection(t,()=>ks("")).limit(0)}function wa(t,e,n,r,s,i){for(var o=Math.min(t.length,r.length),a=-1,c=0;c<o;++c){var l=e[c];if(l!==r[c])return s(t[c],n[c])<0?t.substr(0,c)+n[c]+n.substr(c+1):s(t[c],r[c])<0?t.substr(0,c)+r[c]+n.substr(c+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;s(t[c],l)<0&&(a=c)}return o<r.length&&i==="next"?t+n.substr(t.length):o<t.length&&i==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function Tt(t,e,n,r){var s,i,o,a,c,l,u,d=n.length;if(!n.every(p=>typeof p=="string"))return re(t,Cs);function h(p){s=function(v){return v==="next"?g=>g.toUpperCase():g=>g.toLowerCase()}(p),i=function(v){return v==="next"?g=>g.toLowerCase():g=>g.toUpperCase()}(p),o=p==="next"?_a:Ea;var b=n.map(function(v){return{lower:i(v),upper:s(v)}}).sort(function(v,g){return o(v.lower,g.lower)});a=b.map(function(v){return v.upper}),c=b.map(function(v){return v.lower}),l=p,u=p==="next"?"":r}h("next");var f=new t.Collection(t,()=>be(a[0],c[d-1]+r));f._ondirectionchange=function(p){h(p)};var y=0;return f._addAlgorithm(function(p,b,v){var g=p.key;if(typeof g!="string")return!1;var E=i(g);if(e(E,c,y))return!0;for(var T=null,w=y;w<d;++w){var C=wa(g,E,a[w],c[w],o,l);C===null&&T===null?y=w+1:(T===null||o(T,C)>0)&&(T=C)}return b(T!==null?function(){p.continue(T+u)}:v),!1}),f}function be(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function ks(t){return{type:1,lower:t,upper:t}}class Ds{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||s)&&(!r||!s)?je(this):new this.Collection(this,()=>be(e,n,!r,!s))}catch{return re(this,he)}}equals(e){return e==null?re(this,he):new this.Collection(this,()=>ks(e))}above(e){return e==null?re(this,he):new this.Collection(this,()=>be(e,void 0,!0))}aboveOrEqual(e){return e==null?re(this,he):new this.Collection(this,()=>be(e,void 0,!1))}below(e){return e==null?re(this,he):new this.Collection(this,()=>be(void 0,e,!1,!0))}belowOrEqual(e){return e==null?re(this,he):new this.Collection(this,()=>be(void 0,e))}startsWith(e){return typeof e!="string"?re(this,Cs):this.between(e,e+Ae,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):Tt(this,(n,r)=>n.indexOf(r[0])===0,[e],Ae)}equalsIgnoreCase(e){return Tt(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=de.apply(Le,arguments);return e.length===0?je(this):Tt(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=de.apply(Le,arguments);return e.length===0?je(this):Tt(this,(n,r)=>r.some(s=>n.indexOf(s)===0),e,Ae)}anyOf(){const e=de.apply(Le,arguments);let n=this._cmp;try{e.sort(n)}catch{return re(this,he)}if(e.length===0)return je(this);const r=new this.Collection(this,()=>be(e[0],e[e.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,e.sort(n)};let s=0;return r._addAlgorithm((i,o,a)=>{const c=i.key;for(;n(c,e[s])>0;)if(++s,s===e.length)return o(a),!1;return n(c,e[s])===0||(o(()=>{i.continue(e[s])}),!1)}),r}notEqual(e){return this.inAnyRange([[Dn,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=de.apply(Le,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return re(this,he)}const n=e.reduce((r,s)=>r?r.concat([[r[r.length-1][1],s]]):[[Dn,s]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,s=this._ascending,i=this._descending,o=this._min,a=this._max;if(e.length===0)return je(this);if(!e.every(g=>g[0]!==void 0&&g[1]!==void 0&&s(g[0],g[1])<=0))return re(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",P.InvalidArgument);const c=!n||n.includeLowers!==!1,l=n&&n.includeUppers===!0;let u,d=s;function h(g,E){return d(g[0],E[0])}try{u=e.reduce(function(g,E){let T=0,w=g.length;for(;T<w;++T){const C=g[T];if(r(E[0],C[1])<0&&r(E[1],C[0])>0){C[0]=o(C[0],E[0]),C[1]=a(C[1],E[1]);break}}return T===w&&g.push(E),g},[]),u.sort(h)}catch{return re(this,he)}let f=0;const y=l?g=>s(g,u[f][1])>0:g=>s(g,u[f][1])>=0,p=c?g=>i(g,u[f][0])>0:g=>i(g,u[f][0])>=0;let b=y;const v=new this.Collection(this,()=>be(u[0][0],u[u.length-1][1],!c,!l));return v._ondirectionchange=g=>{g==="next"?(b=y,d=s):(b=p,d=i),u.sort(h)},v._addAlgorithm((g,E,T)=>{for(var w=g.key;b(w);)if(++f,f===u.length)return E(T),!1;return!!function(C){return!y(C)&&!p(C)}(w)||(this._cmp(w,u[f][1])===0||this._cmp(w,u[f][0])===0||E(()=>{d===s?g.continue(u[f][0]):g.continue(u[f][1])}),!1)}),v}startsWithAnyOf(){const e=de.apply(Le,arguments);return e.every(n=>typeof n=="string")?e.length===0?je(this):this.inAnyRange(e.map(n=>[n,n+Ae])):re(this,"startsWithAnyOf() only works with strings")}}function ce(t){return G(function(e){return lt(e),t(e.target.error),!1})}function lt(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const ht="storagemutated",Ee="x-storagemutated-1",Te=st(null,ht);class xa{_lock(){return Je(!D.global),++this._reculock,this._reculock!==1||D.global||(D.lockOwnerFor=this),this}_unlock(){if(Je(!D.global),--this._reculock==0)for(D.global||(D.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Ye(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&D.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Je(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new P.DatabaseClosed(r);case"MissingAPIError":throw new P.MissingAPI(r.message,r);default:throw new P.OpenFailed(r)}if(!this.active)throw new P.TransactionInactive;return Je(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=G(s=>{lt(s),this._reject(e.error)}),e.onabort=G(s=>{lt(s),this.active&&this._reject(new P.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=G(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Te.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return Q(new P.ReadOnly("Transaction is readonly"));if(!this.active)return Q(new P.TransactionInactive);if(this._locked())return new I((i,o)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(i,o)},D])});if(r)return we(()=>{var i=new I((o,a)=>{this._lock();const c=n(o,a,this);c&&c.then&&c.then(o,a)});return i.finally(()=>this._unlock()),i._lib=!0,i});var s=new I((i,o)=>{var a=n(i,o,this);a&&a.then&&a.then(i,o)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=I.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=o)})()}var i=n._waitingFor;return new I((o,a)=>{r.then(c=>n._waitingQueue.push(G(o.bind(null,c))),c=>n._waitingQueue.push(G(a.bind(null,c)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new P.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(se(n,e))return n[e];const r=this.schema[e];if(!r)throw new P.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,r,this);return s.core=this.db.core.table(e),n[e]=s,s}}function Nn(t,e,n,r,s,i,o){return{name:t,keyPath:e,unique:n,multi:r,auto:s,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(s?"++":"")+Ns(e)}}function Ns(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Rs(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:ls(n,r=>[r.name,r])}}let dt=t=>{try{return t.only([[]]),dt=()=>[[]],[[]]}catch{return dt=()=>Ae,Ae}};function Rn(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>ye(r,e)}(t):e=>ye(e,t)}function Lr(t){return[].slice.call(t)}let Ta=0;function it(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function Oa(t,e,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:l,upper:u,lowerOpen:d,upperOpen:h}=c;return l===void 0?u===void 0?null:e.upperBound(u,!!h):u===void 0?e.lowerBound(l,!!d):e.bound(l,u,!!d,!!h)}const{schema:s,hasGetAll:i}=function(c,l){const u=Lr(c.objectStoreNames);return{schema:{name:c.name,tables:u.map(d=>l.objectStore(d)).map(d=>{const{keyPath:h,autoIncrement:f}=d,y=Z(h),p=h==null,b={},v={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:p,compound:y,keyPath:h,autoIncrement:f,unique:!0,extractKey:Rn(h)},indexes:Lr(d.indexNames).map(g=>d.index(g)).map(g=>{const{name:E,unique:T,multiEntry:w,keyPath:C}=g,x={name:E,compound:Z(C),keyPath:C,unique:T,multiEntry:w,extractKey:Rn(C)};return b[it(C)]=x,x}),getIndexByKeyPath:g=>b[it(g)]};return b[":id"]=v.primaryKey,h!=null&&(b[it(h)]=v.primaryKey),v})},hasGetAll:u.length>0&&"getAll"in l.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),o=s.tables.map(c=>function(l){const u=l.name;return{name:u,schema:l,mutate:function({trans:d,type:h,keys:f,values:y,range:p}){return new Promise((b,v)=>{b=G(b);const g=d.objectStore(u),E=g.keyPath==null,T=h==="put"||h==="add";if(!T&&h!=="delete"&&h!=="deleteRange")throw new Error("Invalid operation type: "+h);const{length:w}=f||y||{length:1};if(f&&y&&f.length!==y.length)throw new Error("Given keys array must have same length as given values array.");if(w===0)return b({numFailures:0,failures:{},results:[],lastResult:void 0});let C;const x=[],k=[];let O=0;const L=$=>{++O,lt($)};if(h==="deleteRange"){if(p.type===4)return b({numFailures:O,failures:k,results:[],lastResult:void 0});p.type===3?x.push(C=g.clear()):x.push(C=g.delete(r(p)))}else{const[$,q]=T?E?[y,f]:[y,null]:[f,null];if(T)for(let m=0;m<w;++m)x.push(C=q&&q[m]!==void 0?g[h]($[m],q[m]):g[h]($[m])),C.onerror=L;else for(let m=0;m<w;++m)x.push(C=g[h]($[m])),C.onerror=L}const N=$=>{const q=$.target.result;x.forEach((m,A)=>m.error!=null&&(k[A]=m.error)),b({numFailures:O,failures:k,results:h==="delete"?f:x.map(m=>m.result),lastResult:q})};C.onerror=$=>{L($),N($)},C.onsuccess=N})},getMany:({trans:d,keys:h})=>new Promise((f,y)=>{f=G(f);const p=d.objectStore(u),b=h.length,v=new Array(b);let g,E=0,T=0;const w=x=>{const k=x.target;v[k._pos]=k.result,++T===E&&f(v)},C=ce(y);for(let x=0;x<b;++x)h[x]!=null&&(g=p.get(h[x]),g._pos=x,g.onsuccess=w,g.onerror=C,++E);E===0&&f(v)}),get:({trans:d,key:h})=>new Promise((f,y)=>{f=G(f);const p=d.objectStore(u).get(h);p.onsuccess=b=>f(b.target.result),p.onerror=ce(y)}),query:function(d){return h=>new Promise((f,y)=>{f=G(f);const{trans:p,values:b,limit:v,query:g}=h,E=v===1/0?void 0:v,{index:T,range:w}=g,C=p.objectStore(u),x=T.isPrimaryKey?C:C.index(T.name),k=r(w);if(v===0)return f({result:[]});if(d){const O=b?x.getAll(k,E):x.getAllKeys(k,E);O.onsuccess=L=>f({result:L.target.result}),O.onerror=ce(y)}else{let O=0;const L=b||!("openKeyCursor"in x)?x.openCursor(k):x.openKeyCursor(k),N=[];L.onsuccess=$=>{const q=L.result;return q?(N.push(b?q.value:q.primaryKey),++O===v?f({result:N}):void q.continue()):f({result:N})},L.onerror=ce(y)}})}(i),openCursor:function({trans:d,values:h,query:f,reverse:y,unique:p}){return new Promise((b,v)=>{b=G(b);const{index:g,range:E}=f,T=d.objectStore(u),w=g.isPrimaryKey?T:T.index(g.name),C=y?p?"prevunique":"prev":p?"nextunique":"next",x=h||!("openKeyCursor"in w)?w.openCursor(r(E),C):w.openKeyCursor(r(E),C);x.onerror=ce(v),x.onsuccess=G(k=>{const O=x.result;if(!O)return void b(null);O.___id=++Ta,O.done=!1;const L=O.continue.bind(O);let N=O.continuePrimaryKey;N&&(N=N.bind(O));const $=O.advance.bind(O),q=()=>{throw new Error("Cursor not stopped")};O.trans=d,O.stop=O.continue=O.continuePrimaryKey=O.advance=()=>{throw new Error("Cursor not started")},O.fail=G(v),O.next=function(){let m=1;return this.start(()=>m--?this.continue():this.stop()).then(()=>this)},O.start=m=>{const A=new Promise((U,V)=>{U=G(U),x.onerror=ce(V),O.fail=V,O.stop=B=>{O.stop=O.continue=O.continuePrimaryKey=O.advance=q,U(B)}}),j=()=>{if(x.result)try{m()}catch(U){O.fail(U)}else O.done=!0,O.start=()=>{throw new Error("Cursor behind last entry")},O.stop()};return x.onsuccess=G(U=>{x.onsuccess=j,j()}),O.continue=L,O.continuePrimaryKey=N,O.advance=$,j(),A},b(O)},v)})},count({query:d,trans:h}){const{index:f,range:y}=d;return new Promise((p,b)=>{const v=h.objectStore(u),g=f.isPrimaryKey?v:v.index(f.name),E=r(y),T=E?g.count(E):g.count();T.onsuccess=G(w=>p(w.target.result)),T.onerror=ce(b)})}}}(c)),a={};return o.forEach(c=>a[c.name]=c),{stack:"dbcore",transaction:t.transaction.bind(t),table(c){if(!a[c])throw new Error(`Table '${c}' not found`);return a[c]},MIN_KEY:-1/0,MAX_KEY:dt(e),schema:s}}function Pn({_novip:t},e){const n=e.db,r=function(s,i,{IDBKeyRange:o,indexedDB:a},c){return{dbcore:function(u,d){return d.reduce((h,{create:f})=>({...h,...f(h)}),u)}(Oa(i,o,c),s.dbcore)}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(s=>{const i=s.name;t.core.schema.tables.some(o=>o.name===i)&&(s.core=t.core.table(i),t[i]instanceof t.Table&&(t[i].core=s.core))})}function Vt({_novip:t},e,n,r){n.forEach(s=>{const i=r[s];e.forEach(o=>{const a=Jn(o,s);(!a||"value"in a&&a.value===void 0)&&(o===t.Transaction.prototype||o instanceof t.Transaction?pe(o,s,{get(){return this.table(s)},set(c){as(this,s,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):o[s]=new t.Table(s,i))})})}function jn({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function Aa(t,e){return t._cfg.version-e._cfg.version}function Ca(t,e,n,r){const s=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,s);i.create(n),i._completion.catch(r);const o=i._reject.bind(i),a=D.transless||D;we(()=>{D.trans=i,D.transless=a,e===0?(W(s).forEach(c=>{dn(n,c,s[c].primKey,s[c].indexes)}),Pn(t,n),I.follow(()=>t.on.populate.fire(i)).catch(o)):function({_novip:c},l,u,d){const h=[],f=c._versions;let y=c._dbSchema=Fn(c,c.idbdb,d),p=!1;const b=f.filter(g=>g._cfg.version>=l);function v(){return h.length?I.resolve(h.shift()(u.idbtrans)).then(v):I.resolve()}return b.forEach(g=>{h.push(()=>{const E=y,T=g._cfg.dbschema;Bn(c,E,d),Bn(c,T,d),y=c._dbSchema=T;const w=Ps(E,T);w.add.forEach(x=>{dn(d,x[0],x[1].primKey,x[1].indexes)}),w.change.forEach(x=>{if(x.recreate)throw new P.Upgrade("Not yet support for changing primary key");{const k=d.objectStore(x.name);x.add.forEach(O=>Ln(k,O)),x.change.forEach(O=>{k.deleteIndex(O.name),Ln(k,O)}),x.del.forEach(O=>k.deleteIndex(O))}});const C=g._cfg.contentUpgrade;if(C&&g._cfg.version>l){Pn(c,d),u._memoizedTables={},p=!0;let x=hs(T);w.del.forEach(N=>{x[N]=E[N]}),jn(c,[c.Transaction.prototype]),Vt(c,[c.Transaction.prototype],W(x),x),u.schema=x;const k=Xn(C);let O;k&&Ge();const L=I.follow(()=>{if(O=C(u),O&&k){var N=ge.bind(null,null);O.then(N,N)}});return O&&typeof O.then=="function"?I.resolve(O):L.then(()=>O)}}),h.push(E=>{(!p||!ma)&&function(T,w){[].slice.call(w.db.objectStoreNames).forEach(C=>T[C]==null&&w.db.deleteObjectStore(C))}(g._cfg.dbschema,E),jn(c,[c.Transaction.prototype]),Vt(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),u.schema=c._dbSchema})}),v().then(()=>{var g,E;E=d,W(g=y).forEach(T=>{E.db.objectStoreNames.contains(T)||dn(E,T,g[T].primKey,g[T].indexes)})})}(t,e,i,n).catch(o)})}function Ps(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const s=t[r],i=e[r];if(s){const o={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!Jt)o.recreate=!0,n.change.push(o);else{const a=s.idxByName,c=i.idxByName;let l;for(l in a)c[l]||o.del.push(l);for(l in c){const u=a[l],d=c[l];u?u.src!==d.src&&o.change.push(d):o.add.push(d)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,i])}return n}function dn(t,e,n,r){const s=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>Ln(s,i)),s}function Ln(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Fn(t,e,n){const r={};return Bt(e.objectStoreNames,0).forEach(s=>{const i=n.objectStore(s);let o=i.keyPath;const a=Nn(Ns(o),o||"",!1,!1,!!i.autoIncrement,o&&typeof o!="string",!0),c=[];for(let u=0;u<i.indexNames.length;++u){const d=i.index(i.indexNames[u]);o=d.keyPath;var l=Nn(d.name,o,!!d.unique,!!d.multiEntry,!1,o&&typeof o!="string",!1);c.push(l)}r[s]=Rs(s,a,c)}),r}function Bn({_novip:t},e,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const i=r[s],o=n.objectStore(i);t._hasGetAll="getAll"in o;for(let a=0;a<o.indexNames.length;++a){const c=o.indexNames[a],l=o.index(c).keyPath,u=typeof l=="string"?l:"["+Bt(l).join("+")+"]";if(e[i]){const d=e[i].idxByName[u];d&&(d.name=c,delete e[i].idxByName[u],e[i].idxByName[c]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&H.WorkerGlobalScope&&H instanceof H.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class Ia{_parseStoresSpec(e,n){W(e).forEach(r=>{if(e[r]!==null){var s=e[r].split(",").map((o,a)=>{const c=(o=o.trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return Nn(c,l||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),Z(l),a===0)}),i=s.shift();if(i.multi)throw new P.Schema("Primary key cannot be multi-valued");s.forEach(o=>{if(o.auto)throw new P.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new P.Schema("Index must have a name and cannot be an empty string")}),n[r]=Rs(r,i,s)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?te(this._cfg.storesSource,e):e;const r=n._versions,s={};let i={};return r.forEach(o=>{te(s,o._cfg.storesSource),i=o._cfg.dbschema={},o._parseStoresSpec(s,i)}),n._dbSchema=i,jn(n,[n._allTables,n,n.Transaction.prototype]),Vt(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],W(i),i),n._storeNames=W(i),this}upgrade(e){return this._cfg.contentUpgrade=tr(this._cfg.contentUpgrade||K,e),this}}function ir(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new me(Xt,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function or(t){return t&&typeof t.databases=="function"}function Mn(t){return we(function(){return D.letThrough=!0,t()})}function Sa(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function ka(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?Q(e.dbOpenError):t);le&&(e.openCanceller._stackHolder=Ne()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function s(){if(e.openCanceller!==r)throw new P.DatabaseClosed("db.open() was cancelled")}let i=e.dbReadyResolve,o=null,a=!1;return I.race([r,(typeof navigator>"u"?I.resolve():Sa()).then(()=>new I((c,l)=>{if(s(),!n)throw new P.MissingAPI;const u=t.name,d=e.autoSchema?n.open(u):n.open(u,Math.round(10*t.verno));if(!d)throw new P.MissingAPI;d.onerror=ce(l),d.onblocked=G(t._fireOnBlocked),d.onupgradeneeded=G(h=>{if(o=d.transaction,e.autoSchema&&!t._options.allowEmptyDB){d.onerror=lt,o.abort(),d.result.close();const y=n.deleteDatabase(u);y.onsuccess=y.onerror=G(()=>{l(new P.NoSuchDatabase(`Database ${u} doesnt exist`))})}else{o.onerror=ce(l);var f=h.oldVersion>Math.pow(2,62)?0:h.oldVersion;a=f<1,t._novip.idbdb=d.result,Ca(t,f/10,o,l)}},l),d.onsuccess=G(()=>{o=null;const h=t._novip.idbdb=d.result,f=Bt(h.objectStoreNames);if(f.length>0)try{const p=h.transaction((y=f).length===1?y[0]:y,"readonly");e.autoSchema?function({_novip:b},v,g){b.verno=v.version/10;const E=b._dbSchema=Fn(0,v,g);b._storeNames=Bt(v.objectStoreNames,0),Vt(b,[b._allTables],W(E),E)}(t,h,p):(Bn(t,t._dbSchema,p),function(b,v){const g=Ps(Fn(0,b.idbdb,v),b._dbSchema);return!(g.add.length||g.change.some(E=>E.add.length||E.change.length))}(t,p)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Pn(t,p)}catch{}var y;rt.push(t),h.onversionchange=G(p=>{e.vcFired=!0,t.on("versionchange").fire(p)}),h.onclose=G(p=>{t.on("close").fire(p)}),a&&function({indexedDB:p,IDBKeyRange:b},v){!or(p)&&v!==Xt&&ir(p,b).put({name:v}).catch(K)}(t._deps,u),c()},l)}))]).then(()=>(s(),e.onReadyBeingFired=[],I.resolve(Mn(()=>t.on.ready.fire(t.vip))).then(function c(){if(e.onReadyBeingFired.length>0){let l=e.onReadyBeingFired.reduce(tr,K);return e.onReadyBeingFired=[],I.resolve(Mn(()=>l(t.vip))).then(c)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(c=>{e.dbOpenError=c;try{o&&o.abort()}catch{}return r===e.openCanceller&&t._close(),Q(c)}).finally(()=>{e.openComplete=!0,i()})}function Un(t){var e=i=>t.next(i),n=s(e),r=s(i=>t.throw(i));function s(i){return o=>{var a=i(o),c=a.value;return a.done?c:c&&typeof c.then=="function"?c.then(n,r):Z(c)?Promise.all(c).then(n,r):n(c)}}return s(e)()}function Da(t,e,n){var r=arguments.length;if(r<2)throw new P.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];return n=s.pop(),[t,ds(s),n]}function js(t,e,n,r,s){return I.resolve().then(()=>{const i=D.transless||D,o=t._createTransaction(e,n,t._dbSchema,r),a={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),t._state.PR1398_maxLoop=3}catch(d){return d.name===er.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>js(t,e,n,null,s))):Q(d)}const c=Xn(s);let l;c&&Ge();const u=I.follow(()=>{if(l=s.call(o,o),l)if(c){var d=ge.bind(null,null);l.then(d,d)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=Un(l))},a);return(l&&typeof l.then=="function"?I.resolve(l).then(d=>o.active?d:Q(new P.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>l)).then(d=>(r&&o._resolve(),o._completion.then(()=>d))).catch(d=>(o._reject(d),Q(d)))})}function Ot(t,e,n){const r=Z(t)?t.slice():[t];for(let s=0;s<n;++s)r.push(e);return r}const Na={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,s={},i=[];function o(u,d,h){const f=it(u),y=s[f]=s[f]||[],p=u==null?0:typeof u=="string"?1:u.length,b=d>0,v={...h,isVirtual:b,keyTail:d,keyLength:p,extractKey:Rn(u),unique:!b&&h.unique};return y.push(v),v.isPrimaryKey||i.push(v),p>1&&o(p===2?u[0]:u.slice(0,p-1),d+1,h),y.sort((g,E)=>g.keyTail-E.keyTail),v}const a=o(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[a];for(const u of r.indexes)o(u.keyPath,0,u);function c(u){const d=u.query.index;return d.isVirtual?{...u,query:{index:d,range:(h=u.query.range,f=d.keyTail,{type:h.type===1?2:h.type,lower:Ot(h.lower,h.lowerOpen?t.MAX_KEY:t.MIN_KEY,f),lowerOpen:!0,upper:Ot(h.upper,h.upperOpen?t.MIN_KEY:t.MAX_KEY,f),upperOpen:!0})}}:u;var h,f}return{...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(u){const d=s[it(u)];return d&&d[0]}},count:u=>n.count(c(u)),query:u=>n.query(c(u)),openCursor(u){const{keyTail:d,isVirtual:h,keyLength:f}=u.query.index;return h?n.openCursor(c(u)).then(y=>y&&function(p){return Object.create(p,{continue:{value:function(v){v!=null?p.continue(Ot(v,u.reverse?t.MAX_KEY:t.MIN_KEY,d)):u.unique?p.continue(p.key.slice(0,f).concat(u.reverse?t.MIN_KEY:t.MAX_KEY,d)):p.continue()}},continuePrimaryKey:{value(v,g){p.continuePrimaryKey(Ot(v,t.MAX_KEY,d),g)}},primaryKey:{get:()=>p.primaryKey},key:{get(){const v=p.key;return f===1?v[0]:v.slice(0,f)}},value:{get:()=>p.value}})}(y)):n.openCursor(u)}}}}}};function ar(t,e,n,r){return n=n||{},r=r||"",W(t).forEach(s=>{if(se(e,s)){var i=t[s],o=e[s];if(typeof i=="object"&&typeof o=="object"&&i&&o){const a=bn(i);a!==bn(o)?n[r+s]=e[s]:a==="Object"?ar(i,o,n,r+s+"."):i!==o&&(n[r+s]=e[s])}else i!==o&&(n[r+s]=e[s])}else n[r+s]=void 0}),W(e).forEach(s=>{se(t,s)||(n[r+s]=e[s])}),n}const Ra={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(i){const o=D.trans,{deleting:a,creating:c,updating:l}=o.table(e).hook;switch(i.type){case"add":if(c.fire===K)break;return o._promise("readwrite",()=>u(i),!0);case"put":if(c.fire===K&&l.fire===K)break;return o._promise("readwrite",()=>u(i),!0);case"delete":if(a.fire===K)break;return o._promise("readwrite",()=>u(i),!0);case"deleteRange":if(a.fire===K)break;return o._promise("readwrite",()=>function(h){return d(h.trans,h.range,1e4)}(i),!0)}return n.mutate(i);function u(h){const f=D.trans,y=h.keys||function(p,b){return b.type==="delete"?b.keys:b.keys||b.values.map(p.extractKey)}(r,h);if(!y)throw new Error("Keys missing");return(h=h.type==="add"||h.type==="put"?{...h,keys:y}:{...h}).type!=="delete"&&(h.values=[...h.values]),h.keys&&(h.keys=[...h.keys]),function(p,b,v){return b.type==="add"?Promise.resolve([]):p.getMany({trans:b.trans,keys:v,cache:"immutable"})}(n,h,y).then(p=>{const b=y.map((v,g)=>{const E=p[g],T={onerror:null,onsuccess:null};if(h.type==="delete")a.fire.call(T,v,E,f);else if(h.type==="add"||E===void 0){const w=c.fire.call(T,v,h.values[g],f);v==null&&w!=null&&(v=w,h.keys[g]=v,r.outbound||oe(h.values[g],r.keyPath,v))}else{const w=ar(E,h.values[g]),C=l.fire.call(T,w,v,E,f);if(C){const x=h.values[g];Object.keys(C).forEach(k=>{se(x,k)?x[k]=C[k]:oe(x,k,C[k])})}}return T});return n.mutate(h).then(({failures:v,results:g,numFailures:E,lastResult:T})=>{for(let w=0;w<y.length;++w){const C=g?g[w]:y[w],x=b[w];C==null?x.onerror&&x.onerror(v[w]):x.onsuccess&&x.onsuccess(h.type==="put"&&p[w]?h.values[w]:C)}return{failures:v,results:g,numFailures:E,lastResult:T}}).catch(v=>(b.forEach(g=>g.onerror&&g.onerror(v)),Promise.reject(v)))})}function d(h,f,y){return n.query({trans:h,values:!1,query:{index:r,range:f},limit:y}).then(({result:p})=>u({type:"delete",keys:p,trans:h}).then(b=>b.numFailures>0?Promise.reject(b.failures[0]):p.length<y?{failures:[],numFailures:0,lastResult:void 0}:d(h,{...f,lower:p[p.length-1],lowerOpen:!0},y)))}}}}})};function Ls(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let s=0,i=0;s<e.keys.length&&i<t.length;++s)ee(e.keys[s],t[i])===0&&(r.push(n?yt(e.values[s]):e.values[s]),++i);return r.length===t.length?r:null}catch{return null}}const Pa={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const s=Ls(r.keys,r.trans._cache,r.cache==="clone");return s?I.resolve(s):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?yt(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function cr(t){return!("from"in t)}const ue=function(t,e){if(!this){const n=new ue;return t&&"d"in t&&te(n,t),n}te(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function ft(t,e,n){const r=ee(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(cr(t))return te(t,{from:e,to:n,d:1});const s=t.l,i=t.r;if(ee(n,t.from)<0)return s?ft(s,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Fr(t);if(ee(e,t.to)>0)return i?ft(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Fr(t);ee(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),ee(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const o=!t.r;s&&!t.l&&pt(t,s),i&&o&&pt(t,i)}function pt(t,e){cr(e)||function n(r,{from:s,to:i,l:o,r:a}){ft(r,s,i),o&&n(r,o),a&&n(r,a)}(t,e)}function Fs(t,e){const n=qn(e);let r=n.next();if(r.done)return!1;let s=r.value;const i=qn(t);let o=i.next(s.from),a=o.value;for(;!r.done&&!o.done;){if(ee(a.from,s.to)<=0&&ee(a.to,s.from)>=0)return!0;ee(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}function qn(t){let e=cr(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&ee(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||ee(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Fr(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const i=s==="r"?"l":"r",o={...t},a=t[s];t.from=a.from,t.to=a.to,t[s]=a[s],o[s]=a[i],t[i]=o,o.d=Br(o)}t.d=Br(t)}function Br({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Ke(ue.prototype,{add(t){return pt(this,t),this},addKey(t){return ft(this,t,t),this},addKeys(t){return t.forEach(e=>ft(this,e,e)),this},[_n](){return qn(this)}});const ja={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new ue(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const s=t.table(r),{schema:i}=s,{primaryKey:o}=i,{extractKey:a,outbound:c}=o,l={...s,mutate:h=>{const f=h.trans,y=f.mutatedParts||(f.mutatedParts={}),p=C=>{const x=`idb://${e}/${r}/${C}`;return y[x]||(y[x]=new ue)},b=p(""),v=p(":dels"),{type:g}=h;let[E,T]=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[];const w=h.trans._cache;return s.mutate(h).then(C=>{if(Z(E)){g!=="delete"&&(E=C.results),b.addKeys(E);const x=Ls(E,w);x||g==="add"||v.addKeys(E),(x||T)&&function(k,O,L,N){function $(q){const m=k(q.name||"");function A(U){return U!=null?q.extractKey(U):null}const j=U=>q.multiEntry&&Z(U)?U.forEach(V=>m.addKey(V)):m.addKey(U);(L||N).forEach((U,V)=>{const B=L&&A(L[V]),ve=N&&A(N[V]);ee(B,ve)!==0&&(B!=null&&j(B),ve!=null&&j(ve))})}O.indexes.forEach($)}(p,i,x,T)}else if(E){const x={from:E.lower,to:E.upper};v.add(x),b.add(x)}else b.add(n),v.add(n),i.indexes.forEach(x=>p(x.name).add(n));return C})}},u=({query:{index:h,range:f}})=>{var y,p;return[h,new ue((y=f.lower)!==null&&y!==void 0?y:t.MIN_KEY,(p=f.upper)!==null&&p!==void 0?p:t.MAX_KEY)]},d={get:h=>[o,new ue(h.key)],getMany:h=>[o,new ue().addKeys(h.keys)],count:u,query:u,openCursor:u};return W(d).forEach(h=>{l[h]=function(f){const{subscr:y}=D;if(y){const p=T=>{const w=`idb://${e}/${r}/${T}`;return y[w]||(y[w]=new ue)},b=p(""),v=p(":dels"),[g,E]=d[h](f);if(p(g.name||"").add(E),!g.isPrimaryKey){if(h!=="count"){const T=h==="query"&&c&&f.values&&s.query({...f,values:!1});return s[h].apply(this,arguments).then(w=>{if(h==="query"){if(c&&f.values)return T.then(({result:x})=>(b.addKeys(x),w));const C=f.values?w.result.map(a):w.result;f.values?b.addKeys(C):v.addKeys(C)}else if(h==="openCursor"){const C=w,x=f.values;return C&&Object.create(C,{key:{get:()=>(v.addKey(C.primaryKey),C.key)},primaryKey:{get(){const k=C.primaryKey;return v.addKey(k),k}},value:{get:()=>(x&&b.addKey(C.primaryKey),C.value)}})}return w})}v.add(n)}}return s[h].apply(this,arguments)}}),l}}}};class me{constructor(e,n){this._middlewares={},this.verno=0;const r=me.dependencies;this._options=n={addons:me.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:s}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:K,dbReadyPromise:null,cancelOpen:K,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new I(a=>{i.dbReadyResolve=a}),i.openCanceller=new I((a,c)=>{i.cancelOpen=c}),this._state=i,this.name=e,this.on=st(this,"populate","blocked","versionchange","close",{ready:[tr,K]}),this.on.ready.subscribe=cs(this.on.ready.subscribe,a=>(c,l)=>{me.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||I.resolve().then(c),l&&a(c);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(c),l&&a(c);else{a(c);const d=this;l||a(function h(){d.on.ready.unsubscribe(c),d.on.ready.unsubscribe(h)})}})}),this.Collection=(o=this,We(ba.prototype,function(a,c){this.db=o;let l=Ss,u=null;if(c)try{l=c()}catch(y){u=y}const d=a._ctx,h=d.table,f=h.hook.reading.fire;this._ctx={table:h,index:d.index,isPrimKey:!d.index||h.schema.primKey.keyPath&&d.index===h.schema.primKey.name,range:l,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:d.or,valueMapper:f!==ct?f:null}})),this.Table=function(a){return We(va.prototype,function(c,l,u){this.db=a,this._tx=u,this.name=c,this.schema=l,this.hook=a._allTables[c]?a._allTables[c].hook:st(null,{creating:[oa,K],reading:[ia,ct],updating:[ca,K],deleting:[aa,K]})})}(this),this.Transaction=function(a){return We(xa.prototype,function(c,l,u,d,h){this.db=a,this.mode=c,this.storeNames=l,this.schema=u,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=st(this,"complete","error","abort"),this.parent=h||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new I((f,y)=>{this._resolve=f,this._reject=y}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},f=>{var y=this.active;return this.active=!1,this.on.error.fire(f),this.parent?this.parent._reject(f):y&&this.idbtrans&&this.idbtrans.abort(),Q(f)})})}(this),this.Version=function(a){return We(Ia.prototype,function(c){this.db=a,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return We(Ds.prototype,function(c,l,u){this.db=a,this._ctx={table:c,index:l===":id"?null:l,or:u};const d=a._deps.indexedDB;if(!d)throw new P.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(h,f)=>d.cmp(f,h),this._max=(h,f)=>d.cmp(h,f)>0?h:f,this._min=(h,f)=>d.cmp(h,f)<0?h:f,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=dt(n.IDBKeyRange),this._createTransaction=(a,c,l,u)=>new this.Transaction(a,c,l,this._options.chromeTransactionDurability,u),this._fireOnBlocked=a=>{this.on("blocked").fire(a),rt.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(a))},this.use(Na),this.use(Ra),this.use(ja),this.use(Pa),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new P.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new P.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(s=>s._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(Aa),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||D.letThrough||this._vip)?e():new I((n,r)=>{if(this._state.openComplete)return r(new P.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new P.DatabaseClosed);this.open().catch(K)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:s}){s&&this.unuse({stack:e,name:s});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:r??10,name:s}),i.sort((o,a)=>o.level-a.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>r?s.create!==r:!!n&&s.name!==n)),this}open(){return ka(this)}_close(){const e=this._state,n=rt.indexOf(this);if(n>=0&&rt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new I(r=>{e.dbReadyResolve=r}),e.openCanceller=new I((r,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new P.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new I((r,s)=>{const i=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=G(()=>{(function({indexedDB:a,IDBKeyRange:c},l){!or(a)&&l!==Xt&&ir(a,c).delete(l).catch(K)})(this._deps,this.name),r()}),o.onerror=ce(s),o.onblocked=this._fireOnBlocked};if(e)throw new P.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return W(this._allTables).map(e=>this._allTables[e])}transaction(){const e=Da.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let s=D.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const i=e.indexOf("?")!==-1;let o,a;e=e.replace("!","").replace("?","");try{if(a=n.map(l=>{var u=l instanceof this.Table?l.name:l;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),e=="r"||e===an)o=an;else{if(e!="rw"&&e!=cn)throw new P.InvalidArgument("Invalid transaction mode: "+e);o=cn}if(s){if(s.mode===an&&o===cn){if(!i)throw new P.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&a.forEach(l=>{if(s&&s.storeNames.indexOf(l)===-1){if(!i)throw new P.SubTransaction("Table "+l+" not included in parent transaction.");s=null}}),i&&s&&!s.active&&(s=null)}}catch(l){return s?s._promise(null,(u,d)=>{d(l)}):Q(l)}const c=js.bind(null,this,o,a,s,r);return s?s._promise(o,c,"lock"):D.trans?Ye(D.transless,()=>this._whenReady(c)):this._whenReady(c)}table(e){if(!se(this._allTables,e))throw new P.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const La=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Fa{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[La](){return this}}function Bs(t,e){return W(e).forEach(n=>{pt(t[n]||(t[n]=new ue),e[n])}),t}function Ms(t){let e,n=!1;const r=new Fa(s=>{const i=Xn(t);let o=!1,a={},c={};const l={get closed(){return o},unsubscribe:()=>{o=!0,Te.storagemutated.unsubscribe(f)}};s.start&&s.start(l);let u=!1,d=!1;function h(){return W(c).some(p=>a[p]&&Fs(a[p],c[p]))}const f=p=>{Bs(a,p),h()&&y()},y=()=>{if(u||o)return;a={};const p={},b=function(v){i&&Ge();const g=()=>we(t,{subscr:v,trans:null}),E=D.trans?Ye(D.transless,g):g();return i&&E.then(ge,ge),E}(p);d||(Te(ht,f),d=!0),u=!0,Promise.resolve(b).then(v=>{n=!0,e=v,u=!1,o||(h()?y():(a={},c=p,s.next&&s.next(v)))},v=>{u=!1,n=!1,s.error&&s.error(v),l.unsubscribe()})};return y(),l});return r.hasValue=()=>n,r.getValue=()=>e,r}let $n;try{$n={indexedDB:H.indexedDB||H.mozIndexedDB||H.webkitIndexedDB||H.msIndexedDB,IDBKeyRange:H.IDBKeyRange||H.webkitIDBKeyRange}}catch{$n={indexedDB:null,IDBKeyRange:null}}const Oe=me;function Lt(t){let e=fe;try{fe=!0,Te.storagemutated.fire(t)}finally{fe=e}}Ke(Oe,{...kt,delete:t=>new Oe(t,{addons:[]}).delete(),exists:t=>new Oe(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return or(e)?Promise.resolve(e.databases()).then(r=>r.map(s=>s.name).filter(s=>s!==Xt)):ir(e,n).toCollection().primaryKeys()}(Oe.dependencies).then(t)}catch{return Q(new P.MissingAPI)}},defineClass:()=>function(t){te(this,t)},ignoreTransaction:t=>D.trans?Ye(D.transless,t):t(),vip:Mn,async:function(t){return function(){try{var e=Un(t.apply(this,arguments));return e&&typeof e.then=="function"?e:I.resolve(e)}catch(n){return Q(n)}}},spawn:function(t,e,n){try{var r=Un(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:I.resolve(r)}catch(s){return Q(s)}},currentTransaction:{get:()=>D.trans||null},waitFor:function(t,e){const n=I.resolve(typeof t=="function"?Oe.ignoreTransaction(t):t).timeout(e||6e4);return D.trans?D.trans.waitFor(n):n},Promise:I,debug:{get:()=>le,set:t=>{ps(t,t==="dexie"?()=>!0:Is)}},derive:Be,extend:te,props:Ke,override:cs,Events:st,on:Te,liveQuery:Ms,extendObservabilitySet:Bs,getByKeyPath:ye,setByKeyPath:oe,delByKeyPath:function(t,e){typeof e=="string"?oe(t,e,void 0):"length"in e&&[].map.call(e,function(n){oe(t,n,void 0)})},shallowClone:hs,deepClone:yt,getObjectDiff:ar,cmp:ee,asap:us,minKey:Dn,addons:[],connections:rt,errnames:er,dependencies:$n,semVer:Dr,version:Dr.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),Oe.maxKey=dt(Oe.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Te(ht,t=>{if(!fe){let e;Jt?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Ee,!0,!0,t)):e=new CustomEvent(Ee,{detail:t}),fe=!0,dispatchEvent(e),fe=!1}}),addEventListener(Ee,({detail:t})=>{fe||Lt(t)}));let fe=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(Ee);typeof t.unref=="function"&&t.unref(),Te(ht,e=>{fe||t.postMessage(e)}),t.onmessage=e=>{e.data&&Lt(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Te(ht,e=>{try{fe||(typeof localStorage<"u"&&localStorage.setItem(Ee,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Ee,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===Ee){const n=JSON.parse(e.newValue);n&&Lt(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===Ee&&Lt(e.changedParts)})}I.rejectionMapper=function(t,e){if(!t||t instanceof Me||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Cr[t.name])return t;var n=new Cr[t.name](e||t.message,t);return"stack"in t&&pe(n,"stack",{get:function(){return this.inner.stack}}),n},ps(le,Is);const ac=Object.freeze(Object.defineProperty({__proto__:null,Dexie:me,RangeSet:ue,default:me,liveQuery:Ms,mergeRanges:pt,rangesOverlap:Fs},Symbol.toStringTag,{value:"Module"}));class Ba extends me{constructor(){super("AppGamesDB");lr(this,"products");this.version(1).stores({products:"++id, imageUrl, name, price, priceDiscount, quantity, productId"})}}const Ma=new Ba;class Ua{constructor(e){this.client=e}async getList(){const{featureds:e}=await this.client.request(Vo);return e}}class qa{constructor(e){this.client=e}async getList({pagination:e}={}){const{limit:n=20,page:r=0}=e??{},{categories:s}=await this.client.request(Ko,{limit:n,offset:n*r});return s}}const $a=new Headers({"x-hasura-admin-secret":Yo}),ur=new Ro(Go,{headers:$a}),Ka=new Ho(ur),Va=new zo(Ma.products),Ha=new Ua(ur),Ga=new qa(ur);var Ze=(t=>(t.CART="cart",t.PRODUCTS="products",t.FEATURED="featured",t.CATEGORIES="categories",t))(Ze||{});const Us=Y.createContext({toggleColor(){}}),cc=()=>{const{toggleColor:t}=Y.useContext(Us);return t},Ya=({children:t})=>{const[e,n]=Y.useState("dark"),r=Y.useMemo(()=>e==="dark"?Ri:Pi,[e]),s=Y.useMemo(()=>({toggleColor(){n(i=>i==="dark"?"light":"dark")}}),[]);return M.jsx(Us.Provider,{value:s,children:M.jsxs(Hs,{theme:r,children:[M.jsx(Gs,{}),t]})})},za={[Ze.PRODUCTS]:Ka,[Ze.CART]:Va,[Ze.FEATURED]:Ha,[Ze.CATEGORIES]:Ga},Wa=new ri({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!0,cacheTime:.1,staleTime:0}}});function Qa(){return M.jsx(di,{providers:za,children:M.jsx(si,{client:Wa,children:M.jsx(Ya,{children:M.jsx(Y.Suspense,{fallback:M.jsx(ji,{}),children:M.jsx(Xs,{router:gi})})})})})}zt.getEnv("IS_MSW_ON");fn.createRoot(document.getElementById("root")).render(M.jsx(Kn.StrictMode,{children:M.jsx(Qa,{})}));export{bi as M,Ze as P,vi as U,ic as a,oc as b,Va as c,ac as d,sc as e,cc as f,Ni as t,rc as u};
